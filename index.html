<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="胡博靖" />


    
    


<meta name="description" content="计算机|软件开发|通信工程|互联网|编程|程序员|代码|C++|Java|Android">
<meta property="og:type" content="website">
<meta property="og:title" content="胡博靖的技术博客">
<meta property="og:url" content="http://hubojing.github.io/index.html">
<meta property="og:site_name" content="胡博靖的技术博客">
<meta property="og:description" content="计算机|软件开发|通信工程|互联网|编程|程序员|代码|C++|Java|Android">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="胡博靖的技术博客">
<meta name="twitter:description" content="计算机|软件开发|通信工程|互联网|编程|程序员|代码|C++|Java|Android">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="胡博靖的技术博客" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">





    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>胡博靖的技术博客</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: false,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1498247776150&amp;di=a1fdc0869f65da377118893dfe708f5e&amp;imgtype=0&amp;src=http%3A%2F%2Fimg5.duitang.com%2Fuploads%2Fitem%2F201508%2F24%2F20150824132210_HjBJC.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">胡博靖</a></h1>
        </hgroup>

        
        <p class="header-subtitle">小清新IT旅程|为中华崛起读书</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/categories/互联网">互联网</a></li>
                        
                            <li><a href="/categories/通信工程">通信工程</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:hubojing@outlook.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/hubojing" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa CSDN" href="http://blog.csdn.net/hubojing/" title="CSDN"></a>
                            
                                <a class="fa Quora" href="https://www.quora.com/profile/Bojing-Hu/" title="Quora"></a>
                            
                                <a class="fa QQ" href="http://wpa.qq.com/msgrd?v=3&uin=417797456&site=qq&menu=yes" title="QQ"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/1602/">1602</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/3D/">3D</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BCG/">BCG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DigitalOcean/">DigitalOcean</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flash/">Flash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HOOPS-3D/">HOOPS 3D</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ListControl/">ListControl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MFC/">MFC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MFC-多线程/">MFC 多线程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenCV/">OpenCV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PPT动画/">PPT动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TreeControl/">TreeControl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eclipse/">eclipse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ffmpeg/">ffmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idea/">idea</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/matlab/">matlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/photoshop/">photoshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/socket/">socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/主题/">主题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/优化/">优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/公告/">公告</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数/">函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/创意/">创意</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动画/">动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单片机/">单片机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客/">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/域名/">域名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多说/">多说</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/奇淫技巧/">奇淫技巧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/密码锁/">密码锁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/嵌入式系统/">嵌入式系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思维/">思维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/手机/">手机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拆机/">拆机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/教程/">教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数字信号处理/">数字信号处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数码/">数码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/显示技术/">显示技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂谈/">杂谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树/">树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/病毒/">病毒</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/矩阵键盘/">矩阵键盘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/硬件/">硬件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/竞赛/">竞赛</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线代/">线代</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/装机/">装机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机图形学/">计算机图形学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/评测/">评测</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/说明/">说明</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/路由器/">路由器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/问题/">问题</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.iiwo.vip/">小忆</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.iwangyu.cn/">WangYu</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://ursb.me/">Airing</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://txiner.top/">Hundred</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.ersaijun.cn/">二赛君</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.yeqianfeng.me/">太阳尚远</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.qiujinfeng.com/">邱锦锋</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.waydrow.com/">Waydrow</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://qqdie.com/">Jrotty</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.just666.cn/">Shawn</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://theask.cn/">该问</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.sfantree.com/">水番林</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://rm-rf.moe/">梦的小窝</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.61mon.com/">刘毅</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.pokerboy.cn/">柚子鬼</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://zcheng.ren/">ZeeCoder</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.zcmol.cn/">早茶月光</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://rebootcat.com/">Linux之路</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://townwang.com/">王振镇</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://shawnzeng.com/">Shawnzeng</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.52itstyle.com/">小柒博客</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://frankchen.xyz/">不正经数据科学家</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://nolongerwait.com/">秦简</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://xiaowiba.com/">小尾巴</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://sopuy.com/">sopuy</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://itruke.com/">技术宅男子</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.5ih5.com.cn/">镜花水月</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://blog.isecret.vip/">Secret</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://www.pwyqspace.com/">PWYQ Space</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.mapan.win/">马攀</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://darrenliuwei.com/">刘伟</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://w4ctech.cn/">w4ctech</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">写代码的小清新，目标是成为学有建树的工程师。</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">胡博靖</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1498247776150&amp;di=a1fdc0869f65da377118893dfe708f5e&amp;imgtype=0&amp;src=http%3A%2F%2Fimg5.duitang.com%2Fuploads%2Fitem%2F201508%2F24%2F20150824132210_HjBJC.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">胡博靖</a></h1>
            </hgroup>
            
            <p class="header-subtitle">小清新IT旅程|为中华崛起读书</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/互联网">互联网</a></li>
                
                    <li><a href="/categories/通信工程">通信工程</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:hubojing@outlook.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/hubojing" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa CSDN" target="_blank" href="http://blog.csdn.net/hubojing/" title="CSDN"></a>
                            
                                <a class="fa Quora" target="_blank" href="https://www.quora.com/profile/Bojing-Hu/" title="Quora"></a>
                            
                                <a class="fa QQ" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=417797456&site=qq&menu=yes" title="QQ"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-计算机图形学学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/03/05/计算机图形学学习笔记/" class="article-date">
      <time datetime="2018-03-05T13:55:05.000Z" itemprop="datePublished">2018-03-05</time>
</a>

 
    <a href="/2018/03/05/计算机图形学学习笔记/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2018/03/05/计算机图形学学习笔记/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/05/计算机图形学学习笔记/">计算机图形学学习笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1520270969097&amp;di=6249ae8473ad4a9f1c580fbd5cf5ec41&amp;imgtype=jpg&amp;src=http%3A%2F%2Fimg2.imgtn.bdimg.com%2Fit%2Fu%3D3288393722%2C1303109147%26fm%3D214%26gp%3D0.jpg&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p>精简笔记。算法详情资料很多，不再赘述。
　　<strong>每周一点图形学。</strong></p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1><span id="帧缓冲器及分辨率">帧缓冲器及分辨率</span></h1>
<p>帧缓冲器每一个存储单元的位长决定了一幅画面上能同时显示的不同灰度的数目或颜色的种类。
如果是单色，则每个像素只需要1Bit表示；
如果是16色，则每个像素需要4Bit(2^4=16)表示；
如果是256色，则每个需要1个字节（8位，2^8=256）表示；
如果是65536（64K）色，则每个像素需要2个字节（16位，2^16=64K）表示；
如果是16777216（16.7M）色，则每个需要3个字节（24位，2^24=16.7M）表示（24位真彩色）。</p>
<p>举例：显卡有2MB显存，当分辨率是1024x768时，可支持的色彩数又是多少？
2MB=2x1024x1024=2097152(字节)
1024x768=786432(个像素)
每个像素如果需要3个字节表示，将超过2MB显存，最多只需要2个字节表示，故只能支持64K色彩数。</p>
<blockquote>
<p>题目：显示颜色64K，分辨率为1024*1024的显示器，至少需要的帧缓存容量为(C)
A.1MB B.3MB C.2MB D.512KB</p>
</blockquote>
<ul>
<li>解：显示颜色64K，故每个像素需要2个字节表示。1024x1024=1048576(个像素)，1048576x2=2097152(字节)
2097152/1024/1024=2MB</li>
</ul>
<h1><span id="光栅图形学算法">光栅图形学算法</span></h1>
<h2><span id="直线段的扫描转换算法">直线段的扫描转换算法</span></h2>
<p>P&lt;sub&gt;0&lt;/sub&gt;（x&lt;sub&gt;0&lt;/sub&gt;,y&lt;sub&gt;0&lt;/sub&gt;）	P&lt;sub&gt;1&lt;/sub&gt;(x&lt;sub&gt;1&lt;/sub&gt;,y&lt;sub&gt;1&lt;/sub&gt;)
y=kx+b
k=(y&lt;sub&gt;1&lt;/sub&gt;-y&lt;sub&gt;o&lt;/sub&gt;)/(x&lt;sub&gt;1&lt;/sub&gt;-x&lt;sub&gt;0&lt;/sub&gt;)  (x&lt;sub&gt;1&lt;/sub&gt;≠x&lt;sub&gt;0&lt;/sub&gt;)
假设x已知，即从x的起点xo开始，沿x方向前进一个像素（步长=1），可以计算出相应的y值。因为像素的坐标是整数，所以y值要进行取整处理。
如何把数学上的一个点扫描转换一个屏幕像素点？
如：P（1.7, 0.8）—(取整)—&gt;P(1, 0)
P(1.7, 0.8) -(+0.5)-&gt; p(2.2, 1.3)
P(2.2, 1.3) -(取整)-&gt; p(2, 1)
为提高效率，减小计算量，要把乘法消掉。</p>
<h2><span id="直线绘制的三个著名的常用算法">直线绘制的三个著名的常用算法</span></h2>
<ol>
<li>数值微分法（DDA）</li>
<li>中点画线法</li>
<li>Bresenham算法</li>
</ol>
<h3><span id="数值微分ddadigital-differential-analyzer">数值微分DDA（Digital Differential Analyzer）</span></h3>
<p>引进图形学中一个重要思想——增量思想
直线斜率小于1：
x=x+1
y=y+k
(注意y+0.5化为整数)
直线斜率大于1：
x=x+1/k
y=y+1
（注意x+0.5化为整数）</p>
<h3><span id="dda算法代码">DDA算法代码</span></h3>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CDrawLinesDlg::DDALine(<span class="keyword">int</span> iBeginX, <span class="keyword">int</span> iBeginY, <span class="keyword">int</span> iEndX, <span class="keyword">int</span> iEndY, COLORREF col)</span><br><span class="line">&#123;</span><br><span class="line">	CDC *pDC = GetDC();</span><br><span class="line">	pDC-&gt;TextOut(<span class="number">450</span>, <span class="number">18</span>, _T(<span class="string">"DDA画线成功！"</span>));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">float</span> x, y, dx, dy, k, r;</span><br><span class="line">	<span class="keyword">float</span> xm, ym;</span><br><span class="line">	dx = iEndX - iBeginX;</span><br><span class="line">	dy = iEndY - iBeginY;</span><br><span class="line">	k = dy / dx;</span><br><span class="line">	r = dx / dy;<span class="comment">//r为斜率倒数</span></span><br><span class="line">	x = iEndX;</span><br><span class="line">	y = iEndY;</span><br><span class="line">	xm = iBeginX;</span><br><span class="line">	ym = iBeginY;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">abs</span>(dx) &gt; <span class="built_in">abs</span>(dy))<span class="comment">//斜率小于1</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (iBeginX &lt;= iEndX)</span><br><span class="line">		&#123;</span><br><span class="line">			x = iBeginX;</span><br><span class="line">			xm = iEndX;</span><br><span class="line">			y = iBeginY;</span><br><span class="line">			ym = iEndY;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(x &lt;= xm)</span><br><span class="line">		&#123;</span><br><span class="line">			y = y + k;</span><br><span class="line">			pDC-&gt;SetPixel(x, (<span class="keyword">int</span>)(y + <span class="number">0.5</span>), col);</span><br><span class="line">			++x;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span><span class="comment">//斜率大于1</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (iBeginY &lt;= iEndY)</span><br><span class="line">		&#123;</span><br><span class="line">			x = iBeginX;</span><br><span class="line">			xm = iEndX;</span><br><span class="line">			y = iBeginY;</span><br><span class="line">			ym = iEndY;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (y &lt;= ym)</span><br><span class="line">		&#123;</span><br><span class="line">			x = x + r;</span><br><span class="line">			pDC-&gt;SetPixel((<span class="keyword">int</span>)(x + <span class="number">0.5</span>), y, col);</span><br><span class="line">			++y;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/计算机图形学/">计算机图形学</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Python开发简单爬虫" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/03/11/Python开发简单爬虫/" class="article-date">
      <time datetime="2018-03-11T07:42:37.000Z" itemprop="datePublished">2018-03-11</time>
</a>

 
    <a href="/2018/03/11/Python开发简单爬虫/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2018/03/11/Python开发简单爬虫/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/11/Python开发简单爬虫/">Python开发简单爬虫</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1520877147729&amp;di=7931c89b81b24de8d540c04e40c7228a&amp;imgtype=0&amp;src=http%3A%2F%2Fserver.zzidc.com%2Fuploads%2Fallimg%2F171210%2F1-1G210204413632.png&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p><strong>人生苦短，Python当歌。</strong></p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1><span id="简单爬虫架构">简单爬虫架构</span></h1>
<p><img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E6%9E%B6%E6%9E%84.png?raw=true" alt="简单爬虫架构"></p>
<p>简单爬虫架构——运行流程
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B.png?raw=true" alt="运行流程"></p>
<h1><span id="url管理器和实现方法">URL管理器和实现方法</span></h1>
<ul>
<li>URL管理器：管理待抓取URL集合和已抓取URL集合
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94URL%E7%AE%A1%E7%90%86%E5%99%A8.png?raw=true" alt="URL管理器"></li>
<li>实现方式
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94URL%E7%AE%A1%E7%90%86%E5%99%A8%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F.png?raw=true" alt="实现方式"></li>
</ul>
<h1><span id="网页下载器和urllib2模块">网页下载器和urllib2模块</span></h1>
<ul>
<li>
<p>网页下载器：将互联网上URL对应的网页下载到本地的工具
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94%E7%BD%91%E9%A1%B5%E4%B8%8B%E8%BD%BD%E5%99%A8.png?raw=true" alt="网页下载器"></p>
</li>
<li>
<p>Python的几种网页下载器</p>
</li>
</ul>
<ol>
<li>urllib2——Python官方基础模块</li>
<li>requests——第三方包更强大</li>
</ol>
<h2><span id="urllib2下载网页的三种方法">urllib2下载网页的三种方法</span></h2>
<p>以下代码基于Python2。</p>
<h3><span id="最简洁方法">最简洁方法</span></h3>
<p>url---&gt;urllib2.urlopen(url)</p>
<h4><span id="代码">代码</span></h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 直接请求</span></span><br><span class="line">response = urllib2.urlopen(<span class="string">'http://www.baidu.com'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取状态码，如果是200表示获取成功</span></span><br><span class="line"><span class="keyword">print</span> response.getcode()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取内容</span></span><br><span class="line">cont = response.read()</span><br></pre></td></tr></table></figure></p>
<h3><span id="法2添加data-http-header">法2：添加data、http header</span></h3>
<p><img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94urllib2%E6%B3%952.png?raw=true" alt="urllib2法2"></p>
<h4><span id="代码">代码</span></h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建Request对象</span></span><br><span class="line">request = urllib2.Request(url)</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加数据</span></span><br><span class="line">request.add_data(<span class="string">'a'</span>,<span class="string">'1'</span>)</span><br><span class="line"><span class="comment">#添加http的header</span></span><br><span class="line">request.add_header(<span class="string">'User-Agent'</span>,<span class="string">'Mozilla/5.0'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 发送请求获取结果</span></span><br><span class="line">response = urllib2.urlopen(request)</span><br></pre></td></tr></table></figure></p>
<h3><span id="法3添加特殊情景的处理器">法3：添加特殊情景的处理器</span></h3>
<p><img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94urllib2%E6%B3%953.png?raw=true" alt="urllib2法3"></p>
<h4><span id="代码">代码</span></h4>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib2, cookielib</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建cookie容器</span></span><br><span class="line">cj = cookielib.CookieJar()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建1个opener</span></span><br><span class="line">opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 给urllib2安装opener</span></span><br><span class="line">urllib2.install_opener(opener)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用带有cookie的urllib2访问网页</span></span><br><span class="line">response = urllib2.urlopen(<span class="string">"http://www/baidu.com/"</span>)</span><br></pre></td></tr></table></figure></p>
<h1><span id="python3代码">Python3代码</span></h1>
<p>Python版本：3.7
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">import</span> http.cookiejar</span><br><span class="line"></span><br><span class="line">url=<span class="string">"http://www.baidu.com"</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'第一种方法'</span>)</span><br><span class="line">response1=request.urlopen(url)</span><br><span class="line">print(response1.getcode())</span><br><span class="line">print(len(response1.read()))</span><br><span class="line"></span><br><span class="line">print(<span class="string">'第二种方法'</span>)</span><br><span class="line">req=request.Request(url)</span><br><span class="line">req.add_header(<span class="string">'user-agent'</span>,<span class="string">'Mozilla/5.0'</span>)</span><br><span class="line">response2=request.urlopen(req)</span><br><span class="line">print(response2.getcode())</span><br><span class="line">print(len(response2.read()))</span><br><span class="line"></span><br><span class="line">print(<span class="string">'第三种方法'</span>)</span><br><span class="line">cj=http.cookiejar.CookieJar()</span><br><span class="line">opener=request.build_opener(request.HTTPCookieProcessor(cj))</span><br><span class="line">request.install_opener(opener)</span><br><span class="line">response3=request.urlopen(url)</span><br><span class="line">print(response3.getcode())</span><br><span class="line">print(cj)</span><br><span class="line">print(response3.read())</span><br></pre></td></tr></table></figure></p>
<p>注意：<strong>python3要使用urllib.request替换urllib2。</strong></p>
<h1><span id="网页解析器和beautifulsoup第三方模块">网页解析器和BeautifulSoup第三方模块</span></h1>
<ul>
<li>
<p>网页解析器：从网页中提取有价值数据的工具
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94%E7%BD%91%E9%A1%B5%E8%A7%A3%E6%9E%90%E5%99%A8.png?raw=true" alt="网页解析器"></p>
</li>
<li>
<p>Python的几种网页解析器
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94%E5%87%A0%E7%A7%8D%E7%BD%91%E9%A1%B5%E8%A7%A3%E6%9E%90%E5%99%A8.png?raw=true" alt="几种网页解析器"></p>
</li>
<li>
<p>结构化解析-DOM(Document Object Model)树
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94DOM.png?raw=true" alt="DOM"></p>
</li>
</ul>
<h2><span id="beautiful-soup安装">Beautiful Soup安装</span></h2>
<p>官方文档：https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html</p>
<p>安装：pip install beautifulsoup4
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94%E5%AE%89%E8%A3%85beautifulsoup.png?raw=true" alt="安装"></p>
<p>pip install bs4
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94%E5%AE%89%E8%A3%85bs4.png?raw=true" alt="安装bs4"></p>
<h2><span id="beautiful-soup语法">Beautiful Soup语法</span></h2>
<p><img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94BS%E8%AF%AD%E6%B3%95.png?raw=true" alt="BS语法">
eg.
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&apos;123.html&apos; class=&apos;article_link&apos;&gt; Python &lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<p>节点名称：a
节点属性：href='123.html'
节点属性：class='article_link'
节点内容：Python</p>
<h2><span id="代码">代码</span></h2>
<h3><span id="创建beautifulsoup对象">创建BeautifulSoup对象</span></h3>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据HTML网页字符串创建BeautifulSoup对象</span></span><br><span class="line">soup = BeautifulSoup(</span><br><span class="line">html_doc,<span class="comment"># HTML文档字符串</span></span><br><span class="line"><span class="string">'html.parser'</span><span class="comment"># HTML解析器</span></span><br><span class="line">from_encoding=<span class="string">'utf8'</span><span class="comment"># HTML文档的编码</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3><span id="搜索节点find_allfind">搜索节点（find_all,find）</span></h3>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法：find_all(name, attrs, string)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找所有标签为a的节点</span></span><br><span class="line">soup.find_all(<span class="string">'a'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找所有标签为a，链接符合/view/123.htm形式的节点</span></span><br><span class="line">soup.find_all(<span class="string">'a'</span>, href=<span class="string">'/view/123.htm'</span>)</span><br><span class="line">soup.find_all(<span class="string">'a'</span>, href=re.compile(<span class="string">r'/view/\d+\.htm'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找所有标签为div，class为abc，文字为Python的节点</span></span><br><span class="line">soup.find_all(<span class="string">'div'</span>, class_=<span class="string">'abc'</span>, string=<span class="string">'Python'</span>)</span><br></pre></td></tr></table></figure></p>
<h3><span id="访问节点信息">访问节点信息</span></h3>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 得到节点：&lt;a href='1.html'&gt;Python&lt;/a&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#获取查找到的节点的标签名称</span></span><br><span class="line">node.name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取查找到的a节点的href属性</span></span><br><span class="line">node[<span class="string">'href'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取查找到的a节点的链接文字</span></span><br><span class="line">node.get_text()</span><br></pre></td></tr></table></figure></p>
<h3><span id="python3测试">Python3测试</span></h3>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf8</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">html_doc = <span class="string">"""</span></span><br><span class="line"><span class="string">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were</span></span><br><span class="line"><span class="string">&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Elsie&lt;/a&gt;,</span></span><br><span class="line"><span class="string">&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">&lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">and they lived at the bottom of a well.&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class="story"&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line">soup=BeautifulSoup(html_doc, <span class="string">'html.parser'</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'获取所有的链接'</span>)</span><br><span class="line">links = soup.find_all(<span class="string">'a'</span>)</span><br><span class="line"><span class="keyword">for</span> link <span class="keyword">in</span> links:</span><br><span class="line">    print(link.name, link[<span class="string">'href'</span>], link.get_text())</span><br><span class="line">    </span><br><span class="line">print(<span class="string">'获取lacie的链接'</span>)</span><br><span class="line">link_node = soup.find(<span class="string">'a'</span>, href=<span class="string">'http://example.com/lacie'</span>)</span><br><span class="line">print(link_node.name, link_node[<span class="string">'href'</span>], link_node.get_text())</span><br><span class="line"></span><br><span class="line">print(<span class="string">'正则匹配'</span>)</span><br><span class="line">link_node = soup.find(<span class="string">'a'</span>, href=re.compile(<span class="string">r"ill"</span>))</span><br><span class="line">print(link_node.name, link_node[<span class="string">'href'</span>], link_node.get_text())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">'获取p段落文字'</span>)</span><br><span class="line">p_node = soup.find(<span class="string">'p'</span>, class_=<span class="string">"title"</span>)</span><br><span class="line">print(p_node.name, p_node.get_text())</span><br></pre></td></tr></table></figure></p>
<p>结果：
<img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94%E7%BB%93%E6%9E%9C.png?raw=true" alt="结果"></p>
<h1><span id="爬取百度百科1000个页面的数据">爬取百度百科1000个页面的数据</span></h1>
<h2><span id="分析">分析</span></h2>
<p>确定目标---&gt;分析目标（URL格式、数据格式、网页编码）---&gt;编写代码---&gt;执行爬虫</p>
<blockquote>
<p>目标：百度百科Python词条相关词条网页——标题和简介</p>
</blockquote>
<blockquote>
<p>入口页：http://baike.baidu.com/item/Python/</p>
</blockquote>
<blockquote>
<p>URL格式：</p>
<ul>
<li>词条页面URL：/item/%E8%87%AA%E7%94%B1%E8%BD%AF%E4%BB%B6</li>
</ul>
</blockquote>
<blockquote>
<p>数据格式：</p>
<ul>
<li>标题：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">	&lt;dd class=&quot;lemmaWgt-lemmaTitle-title&quot;&gt;</span><br><span class="line">&lt;h1&gt;***&lt;/h1&gt;</span><br><span class="line">&lt;/dd&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>简介：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;lemma-summary&quot; label-module=&quot;lemmaSummary&quot;&gt;***&lt;/div&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<blockquote>
<p>页面编码：UTF-8</p>
</blockquote>
<h2><span id="易错处及解决">易错处及解决</span></h2>
<ul>
<li>
<p>url易变，以后需结合最新url修改正则表达式或总入口url。</p>
</li>
<li>
<p>若只能爬取到一条数据，注意有些url是没有summary的，需添加
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">summary_node = soup.find(<span class="string">'div'</span>, class_=<span class="string">'lemma-summary'</span>)</span><br><span class="line"><span class="comment">#添加判空判断</span></span><br><span class="line"><span class="keyword">if</span> summary_node <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line"><span class="keyword">return</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>outputer.html为空时，检查代码outputer代码是否有误。这种情况通常是data为空，可以断点调试一下，定位问题。比如我的问题在html_parser中<code>_get_new_data</code>函数中将<code>lemma-summary</code>写为了<code>lemmasummary</code>。</p>
</li>
<li>
<p>outputer.html乱码时，检查编码问题。Python3将编码写在open里。
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">fout = open(<span class="string">'output.html'</span>, <span class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"> </span><br><span class="line"> fout.write(<span class="string">"&lt;html&gt;"</span>)</span><br><span class="line"> fout.write(<span class="string">"&lt;body&gt;"</span>)</span><br><span class="line"> fout.write(<span class="string">"&lt;table&gt;"</span>)</span><br><span class="line"> <span class="keyword">for</span> data <span class="keyword">in</span> self.datas:</span><br><span class="line">     fout.write(<span class="string">"&lt;tr&gt;"</span>)</span><br><span class="line">     fout.write(<span class="string">"&lt;td&gt;%s&lt;/td&gt;"</span> % data[<span class="string">'url'</span>])</span><br><span class="line">     fout.write(<span class="string">"&lt;td&gt;%s&lt;/td&gt;"</span> % data[<span class="string">'title'</span>])</span><br><span class="line">     fout.write(<span class="string">"&lt;td&gt;%s&lt;/td&gt;"</span> % data[<span class="string">'summary'</span>])</span><br><span class="line">     fout.write(<span class="string">"&lt;/tr&gt;"</span>)</span><br><span class="line"> fout.write(<span class="string">"&lt;/table&gt;"</span>)</span><br><span class="line"> fout.write(<span class="string">"&lt;/body&gt;"</span>)</span><br><span class="line"> fout.write(<span class="string">"&lt;/html&gt;"</span>)</span><br><span class="line"> fout.close()</span><br></pre></td></tr></table></figure></p>
</li>
</ul>
<h1><span id="结果">结果</span></h1>
<ul>
<li>经测试，爬1000个页面用时为12min（比较慢），全部爬取成功。</li>
<li>控制台</li>
<li><img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94%E7%88%AC%E8%99%AB%E7%BB%93%E6%9E%9C.png?raw=true" alt="爬虫数据"></li>
<li>输出的html</li>
<li><img src="https://github.com/hubojing/BlogImages/blob/master/Python%E5%BC%80%E5%8F%91%E7%AE%80%E5%8D%95%E7%88%AC%E8%99%AB%E2%80%94%E2%80%94html.png?raw=true" alt="html"></li>
</ul>
<h1><span id="全部代码下载地址">全部代码下载地址</span></h1>
<p>https://github.com/hubojing/PythonSpider</p>
<hr>
<p>感谢慕课平台。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/爬虫/">爬虫</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-公告" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/02/19/公告/" class="article-date">
      <time datetime="2018-02-18T16:40:50.000Z" itemprop="datePublished">2018-02-19</time>
</a>

 
    <a href="/2018/02/19/公告/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2018/02/19/公告/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/19/公告/">公告</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1519130846687&amp;di=d0a3a597ccffeaff65b2e3eeb22cf389&amp;imgtype=0&amp;src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20170929%2F818198511153441585d8013421e01fea.jpeg&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p><strong>本博客域名还原为http://hubojing.github.io/</strong></p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;
　　域名http://hubojing.me/ 将弃用。
　　特此公告，谢谢各位的来访。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/杂谈/">杂谈</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/公告/">公告</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-BCG网格控件增删移动" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/03/03/BCG网格控件增删移动/" class="article-date">
      <time datetime="2018-03-03T15:21:49.000Z" itemprop="datePublished">2018-03-03</time>
</a>

 
    <a href="/2018/03/03/BCG网格控件增删移动/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2018/03/03/BCG网格控件增删移动/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/03/BCG网格控件增删移动/">BCG网格控件增删移动</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/hubojing/BlogImages/6bb9621117d54f0c4d45ddd281fcab403be2843e/BCG%E7%BD%91%E6%A0%BC%E6%8E%A7%E4%BB%B6%E5%A2%9E%E5%88%A0%E7%A7%BB%E5%8A%A8.png&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p><strong>一个小demo——CBCGPGridCtrl网格控件增加行、删除行、上下移动行。</strong></p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1><span id="代码">代码</span></h1>
<h2><span id="初始化">初始化</span></h2>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">BOOL CtestDlg::OnInitDialog()</span><br><span class="line">&#123;</span><br><span class="line">	CBCGPDialog::OnInitDialog();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Set the icon for this dialog.  The framework does this automatically</span></span><br><span class="line">	<span class="comment">//  when the application's main window is not a dialog</span></span><br><span class="line">	SetIcon(m_hIcon, TRUE);			<span class="comment">// Set big icon</span></span><br><span class="line">	SetIcon(m_hIcon, FALSE);		<span class="comment">// Set small icon</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// <span class="doctag">TODO:</span> Add extra initialization here</span></span><br><span class="line">	<span class="function">CRect <span class="title">rect</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">400</span>, <span class="number">400</span>)</span></span>;</span><br><span class="line">	m_pGridCtrl = <span class="keyword">new</span> CBCGPGridCtrl;</span><br><span class="line">	m_pGridCtrl-&gt;Create(WS_CHILD, rect, <span class="keyword">this</span>, <span class="number">1</span>);</span><br><span class="line">	m_pGridCtrl-&gt;ShowWindow(SW_SHOW);</span><br><span class="line"></span><br><span class="line">	m_pGridCtrl-&gt;InsertColumn(<span class="number">0</span>, _T(<span class="string">"name"</span>), <span class="number">40</span>);</span><br><span class="line">	m_pGridCtrl-&gt;InsertColumn(<span class="number">1</span>, _T(<span class="string">"sex"</span>), <span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	CBCGPGridRow* pRow = <span class="keyword">new</span> CBCGPGridRow;</span><br><span class="line">	m_pGridCtrl-&gt;AddRow(pRow);</span><br><span class="line">	CBCGPGridItem* pNameItem = pRow-&gt;CreateItem(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	pRow-&gt;AddItem(pNameItem);</span><br><span class="line">	pNameItem-&gt;SetValue(<span class="string">"Nancy"</span>);</span><br><span class="line"></span><br><span class="line">	CBCGPGridItem* pSexItem = pRow-&gt;CreateItem(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">	pRow-&gt;AddItem(pSexItem);</span><br><span class="line">	pSexItem-&gt;AddOption(<span class="string">"男"</span>);</span><br><span class="line">	pSexItem-&gt;AddOption(<span class="string">"女"</span>);</span><br><span class="line">	pSexItem-&gt;SetValue(<span class="string">"男"</span>);<span class="comment">//默认值为“男”</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> TRUE;  <span class="comment">// return TRUE  unless you set the focus to a control</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2><span id="增加行">增加行</span></h2>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CtestDlg::OnBnClickedBtnAdd()</span><br><span class="line">&#123;</span><br><span class="line">	CBCGPGridRow* pRow = <span class="keyword">new</span> CBCGPGridRow;</span><br><span class="line">	m_pGridCtrl-&gt;AddRow(pRow);</span><br><span class="line">	<span class="keyword">int</span> iRow = pRow-&gt;GetRowId();</span><br><span class="line">	CBCGPGridItem* pNameItem = pRow-&gt;CreateItem(iRow, <span class="number">0</span>);</span><br><span class="line">	pRow-&gt;AddItem(pNameItem);</span><br><span class="line">	CBCGPGridItem* pSexItem = pRow-&gt;CreateItem(iRow, <span class="number">1</span>);</span><br><span class="line">	pRow-&gt;AddItem(pSexItem);</span><br><span class="line">	pSexItem-&gt;AddOption(<span class="string">"男"</span>);</span><br><span class="line">	pSexItem-&gt;AddOption(<span class="string">"女"</span>);</span><br><span class="line">	pSexItem-&gt;SetValue(<span class="string">"男"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2><span id="删除行">删除行</span></h2>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CtestDlg::OnBnClickedBtnDelete()</span><br><span class="line">&#123;</span><br><span class="line">	CBCGPGridRow* pRow = m_pGridCtrl-&gt;GetCurSel();</span><br><span class="line">	<span class="keyword">if</span> (!pRow)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> iRow = pRow-&gt;GetRowId();</span><br><span class="line">	m_pGridCtrl-&gt;RemoveRow(iRow);</span><br><span class="line">	CBCGPGridRow* pPreRow = m_pGridCtrl-&gt;GetRow(iRow - <span class="number">1</span>);</span><br><span class="line">	m_pGridCtrl-&gt;AdjustLayout();</span><br><span class="line">	m_pGridCtrl-&gt;SetCurSel(pPreRow);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2><span id="上移行">上移行</span></h2>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CtestDlg::OnBnClickedBtnMoveUp()</span><br><span class="line">&#123;</span><br><span class="line">	CBCGPGridRow* pRow = m_pGridCtrl-&gt;GetCurSel();</span><br><span class="line">	<span class="keyword">if</span> (!pRow)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> iRow = pRow-&gt;GetRowId();</span><br><span class="line">	CBCGPGridRow* pNewRow = <span class="keyword">new</span> CBCGPGridRow;</span><br><span class="line">	m_pGridCtrl-&gt;InsertRowBefore(iRow - <span class="number">1</span>, pNewRow);</span><br><span class="line">	CBCGPGridItem* pNameItem = pNewRow-&gt;CreateItem(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	pNewRow-&gt;AddItem(pNameItem);</span><br><span class="line">	pNameItem-&gt;SetValue(pRow-&gt;GetItem(<span class="number">0</span>)-&gt;GetValue());</span><br><span class="line"></span><br><span class="line">	CBCGPGridItem* pSexItem = pNewRow-&gt;CreateItem(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">	pNewRow-&gt;AddItem(pSexItem);</span><br><span class="line">	pSexItem-&gt;AddOption(<span class="string">"男"</span>);</span><br><span class="line">	pSexItem-&gt;AddOption(<span class="string">"女"</span>);</span><br><span class="line">	pSexItem-&gt;SetValue(pRow-&gt;GetItem(<span class="number">1</span>)-&gt;GetValue());</span><br><span class="line"></span><br><span class="line">	m_pGridCtrl-&gt;RemoveRow(iRow + <span class="number">1</span>);</span><br><span class="line">	m_pGridCtrl-&gt;AdjustLayout();</span><br><span class="line"></span><br><span class="line">	m_pGridCtrl-&gt;SetCurSel(iRow - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2><span id="下移行">下移行</span></h2>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CtestDlg::OnBnClickedBtnMoveDown()</span><br><span class="line">&#123;</span><br><span class="line">	CBCGPGridRow* pRow = m_pGridCtrl-&gt;GetCurSel();</span><br><span class="line">	<span class="keyword">if</span> (!pRow)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> iRow = pRow-&gt;GetRowId();</span><br><span class="line">	</span><br><span class="line">	CBCGPGridRow* pNewRow = <span class="keyword">new</span> CBCGPGridRow;</span><br><span class="line">	m_pGridCtrl-&gt;InsertRowAfter(iRow+<span class="number">1</span>, pNewRow);</span><br><span class="line">	CBCGPGridItem* pNameItem = pNewRow-&gt;CreateItem(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	pNewRow-&gt;AddItem(pNameItem);</span><br><span class="line">	pNameItem-&gt;SetValue(pRow-&gt;GetItem(<span class="number">0</span>)-&gt;GetValue());</span><br><span class="line"></span><br><span class="line">	CBCGPGridItem* pSexItem = pNewRow-&gt;CreateItem(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">	pNewRow-&gt;AddItem(pSexItem);</span><br><span class="line">	pSexItem-&gt;AddOption(<span class="string">"男"</span>);</span><br><span class="line">	pSexItem-&gt;AddOption(<span class="string">"女"</span>);</span><br><span class="line">	pSexItem-&gt;SetValue(pRow-&gt;GetItem(<span class="number">1</span>)-&gt;GetValue());</span><br><span class="line"></span><br><span class="line">	m_pGridCtrl-&gt;RemoveRow(iRow);</span><br><span class="line"></span><br><span class="line">	m_pGridCtrl-&gt;AdjustLayout();</span><br><span class="line"></span><br><span class="line">	m_pGridCtrl-&gt;SetCurSel(iRow+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1><span id="注意">注意</span></h1>
<ol>
<li>
<p>pRow可以有多种方式创建，可以先new CBCGPGridRow后再AddRow到网格控件对象m_pGridCtrl中。也可以直接	<code>m_pGridCtrl-&gt;CreateRow();</code>。不过CBCGPGridItem不可以直接new，只能通过	<code>CBCGPGridItem* pNameItem = pRow-&gt;CreateItem(iRow, 0)</code>来得到。</p>
</li>
<li>
<p><code>m_pGridCtrl-&gt;RemoveRow(iRow);</code>操作后若想继续选中现有某行，需要**	<code>m_pGridCtrl-&gt;AdjustLayout();</code>**来调整布局刷新网格，再调用SetCurSel实现选中操作。</p>
</li>
<li>
<p><code>InsertRowBefore</code>和<code>InsertRowAfter</code>的两个参数是：被插入行（在该行前或后插入新行），新插入行数据指针<code>CBCGPGridRow* pRow</code>。</p>
</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BCG/">BCG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-AndroidStudio配置JDK" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/02/23/AndroidStudio配置JDK/" class="article-date">
      <time datetime="2018-02-23T15:18:25.000Z" itemprop="datePublished">2018-02-23</time>
</a>

 
    <a href="/2018/02/23/AndroidStudio配置JDK/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2018/02/23/AndroidStudio配置JDK/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/23/AndroidStudio配置JDK/">Android Studio配置JDK</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1520102177973&amp;di=b292a9132576d506db589613a4e1bb4a&amp;imgtype=0&amp;src=http%3A%2F%2Fwww.eightbitdreams.com%2Fwp-content%2Fuploads%2F2015%2F05%2Fandroid-studio-logo.png&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p><strong>Android Studio配置内嵌JDK。</strong></p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;
　　今天发现JDK环境变量没有配置好。</p>
<p>我没有专门去下载java，在下载Android Studio时，会自带内嵌的JDK。
　　打开File-OtherSettings-DefaultProjectStructure，可看到AS已自动勾选Use embedded JDK，而且是官方推荐的做法。
<img src="https://github.com/hubojing/BlogImages/blob/master/AndroidStudio%E9%85%8D%E7%BD%AEJDK%E2%80%94%E2%80%94JDK%E9%80%89%E9%A1%B9.png?raw=true" alt="JDK选项"></p>
<p>以下是配置环境变量的操作。
　　java 1.8以后就无需CLASSPATH环境变量了。
　　我们只需配置JAVA_HOME和PATH即可。
　　JAVA_HOME	C:\AndroidStudio\jre	(JDK安装目录)
　　在PATH后新增：
　　%JAVA_HOME%\bin
　　%JAVA_HOME%\jre\bin</p>
<p>测试一下：
　　在cmd中查看java版本。
<img src="https://github.com/hubojing/BlogImages/blob/master/AndroidStudio%E9%85%8D%E7%BD%AEJDK%E2%80%94%E2%80%94%E6%B5%8B%E8%AF%95.png?raw=true" alt="测试">
　　成功。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-递归中的return" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/02/22/递归中的return/" class="article-date">
      <time datetime="2018-02-22T08:38:03.000Z" itemprop="datePublished">2018-02-22</time>
</a>

 
    <a href="/2018/02/22/递归中的return/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2018/02/22/递归中的return/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/22/递归中的return/">递归中的return</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://github.com/hubojing/BlogImages/blob/master/%E9%80%92%E5%BD%92%E4%B8%AD%E7%9A%84return%E2%80%94%E2%80%94%E9%80%92%E5%BD%92%E6%B5%81%E7%A8%8B.jpg?raw=true&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p><strong>浅谈递归。</strong></p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;
　　递归的核心是重复和嵌套。
　　看到的一个惊人比喻来解释什么是递归：</p>
<blockquote>
<p>古之欲明明德于天下者，先治其国；欲治其国者，先齐其家；欲齐其家者，先修其身；欲修其身者，先正其心；欲正其心者，先诚其意；欲诚其意者，先致其知，致知在格物。物格而后知至，知至而后意诚，意诚而后心正，心正而后身修，身修而后家齐，家齐而后国治，国治而后天下平。</p>
</blockquote>
<p>可以理解为调用自身的过程，最外层函数是“明德于天下”，每一层传入的参数依次是治国、齐家、修身、正心、诚意、致知、格物。然后再从最内层逐层返回。</p>
<p>如果文言比较难理解，看到的另外一个好解释，以查字典作比：</p>
<blockquote>
<p>我们使用的词典，本身就是递归，为了解释一个词，需要使用更多的词。当你查一个词，发现这个词的解释中某个词仍然不懂，于是你开始查这第二个词，可惜，第二个词里仍然有不懂的词，于是查第三个词，这样查下去，直到有一个词的解释是你完全能看懂的，那么递归走到了尽头，然后你开始后退，逐个明白之前查过的每一个词，最终，你明白了最开始那个词的意思。</p>
</blockquote>
<p>本文的右上方配图很直观说明了递归的层次关系。现放大如下：
<img src="https://github.com/hubojing/BlogImages/blob/master/%E9%80%92%E5%BD%92%E4%B8%AD%E7%9A%84return%E2%80%94%E2%80%94%E9%80%92%E5%BD%92%E6%B5%81%E7%A8%8B.jpg?raw=true" alt="递归层次"></p>
<p>但递归不该是无限的。所以，这样的比喻欠妥：</p>
<blockquote>
<p>从前有座山，山里有个庙，庙里有个老和尚，他在讲：
从前有座山，山里有个庙，庙里有个老和尚，他在讲：
……</p>
</blockquote>
<p>因为这个调用自身的情况没有尽头，也就是没有返回条件。如果是实际情况估计会内存溢出。</p>
<p>所以递归中的返回条件是很重要的，常以程序里的return示之。所以要看清，return后是返回到了哪里。笼统地说，遇到return就会跳出函数。细致一点，return是返回到被调用处。在递归函数里，遇到return退出了这一次的调用，回到被调用处即上一层调用递归处。</p>
<p>eg.
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">bool Traverse()</span><br><span class="line">&#123;</span><br><span class="line">	if(满足条件)</span><br><span class="line">    &#123;</span><br><span class="line">    	return true;</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">    	bool bFlag = Traverse();//递归</span><br><span class="line">        if(bFlag == true)</span><br><span class="line">        &#123;</span><br><span class="line">        	return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>梳理这段代码。干脆，把“满足条件”设为“中彩票”吧。第一次进入Traverse()函数，如果中了彩票，就返回true，跳出Traverse()函数。如果没中彩票，就调用递归（即第二次进入Traverse()函数）。
　　在第二次Traverse()函数里，如果中了彩票就返回true,跳出<strong>第二次Traverse()函数</strong>，返回到被调用处，即bool bFlag=Traverse();这里，此时，bFlag的值为true。接着判断bFlag的值是否为true，如果为true，则返回true，跳出<strong>第一次Traverse()函数</strong>。这样子Traverse()函数的调用才算结束。
在第二次Traverse()函数里，如果没中彩票，就调用递归（即进入第三次Traverse()函数）。
　　在第三次Traverse()函数里……</p>
<p>会发现第n+1次和第n次的调用方法是一样一样的。不过既然递归次数应该有限，那么也就是说，经过x次递归后，必中彩票。（x是有限次）</p>
<p>例子归例子，我们知道，现实生活中彩票依概率满足“无限递归”（编程里不被允许），x依概率趋近于无穷大。</p>
<p>其中需要引起重视的是，
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if(bFlag == true)</span><br><span class="line">&#123;</span><br><span class="line">	return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这个判断在很多时候是非常重要的。因为子递归时多数场合需得到该层递归的返回值，来判断究竟是再次递归呢，还是已得到目标值返回到上一层。</p>
<p>如果是不需要返回值的递归，就易懂得多了。
　　eg.
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">int iAge = 0;</span><br><span class="line">void Grow()</span><br><span class="line">&#123;</span><br><span class="line">	iAge++;</span><br><span class="line">    if(iAge &gt; 18)</span><br><span class="line">    &#123;</span><br><span class="line">    	cout&lt;&lt;&quot;成年啦！&quot;&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">    	Grow();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>虽然没有用return返回要求值，但实质一样，通过条件语句及递归调用自身累加类变量iAge，得到了所需值。</p>
<p>浅谈递归，如有错误，不吝赐教。^_^</p>
<p>相关：<a href="https://www.zhihu.com/question/20507130" target="_blank" rel="noopener">什么是递归？</a>
（抖机灵太多......）</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-ffmpeg开发环境搭建" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/02/22/ffmpeg开发环境搭建/" class="article-date">
      <time datetime="2018-02-22T02:23:51.000Z" itemprop="datePublished">2018-02-22</time>
</a>

 
    <a href="/2018/02/22/ffmpeg开发环境搭建/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2018/02/22/ffmpeg开发环境搭建/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/22/ffmpeg开发环境搭建/">ffmpeg开发环境搭建</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1519277154249&amp;di=8b9a60a72da8a1979c84f0f3bd11dfc1&amp;imgtype=jpg&amp;src=http%3A%2F%2Fimg0.imgtn.bdimg.com%2Fit%2Fu%3D1768997415%2C378959485%26fm%3D214%26gp%3D0.jpg&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p><strong>VS2013+ffmpeg开发环境搭建。</strong></p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1><span id="下载">下载</span></h1>
<p>https://ffmpeg.zeranoe.com/builds/</p>
<ul>
<li>Static版本包含ffmpeg.exe 、ffplay.exe 、ffprobe.exe，相关的DLL已经被编译到exe里。</li>
<li>Shared版本除了ffmpeg.exe , ffplay.exe , ffprobe.exe之外还有一些DLL，exe体积很小，在运行时到相应的DLL中调用功能。</li>
<li>Dev开发者（developer）版本，包含了库文件xxx.lib以及头文件xxx.h，不含exe文件。</li>
</ul>
<p>这里选择下载Shared版本和Dev版本。（ffmpeg.exe 、ffplay.exe 、ffprobe.exe可以直接通过命令行运行使用）</p>
<p>或者直接下载我打包好的环境配置文件：
http://download.csdn.net/download/hubojing/10254452
（csdn现在没免费的了，就勾了最低的2分）</p>
<h1><span id="配置">配置</span></h1>
<ol>
<li>将dev版本文件夹中的Include和lib目录复制到所需工程项目目录下，并在工程属性中设置附加包含目录<code>$(ProjectDir)\include</code>和附加库目录<code>$(ProjectDir)\lib</code>。</li>
<li>将share版本文件夹中bin目录下对应的所有dll复制到项目路径下。</li>
<li>附加依赖项填入（根据所需）
avcodec.lib
avdevice.lib
avfilter.lib
avformat.lib
avutil.lib
postproc.lib
swresample.lib
swscale.lib</li>
</ol>
<p>由于ffmpeg是C语言所写，include头文件时需使用extern &quot;C&quot;标明。</p>
<h1><span id="测试">测试</span></h1>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">extern &quot;C&quot;</span><br><span class="line">&#123;</span><br><span class="line">#include &lt;libavformat/avformat.h&gt;</span><br><span class="line">#include &lt;libavutil/dict.h&gt;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main(int argc, char **argv)</span><br><span class="line">&#123;</span><br><span class="line">	AVFormatContext *fmt_ctx = NULL;</span><br><span class="line">	AVDictionaryEntry *tag = NULL;</span><br><span class="line">	int ret;</span><br><span class="line"></span><br><span class="line">	if (argc != 2) &#123;</span><br><span class="line">		printf(&quot;usage: %s &lt;input_file&gt;\n&quot;</span><br><span class="line">			&quot;example program to demonstrate the use of the libavformat metadata API.\n&quot;</span><br><span class="line">			&quot;\n&quot;, argv[0]);</span><br><span class="line">		system(&quot;pause&quot;);</span><br><span class="line">		return 1;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	if ((ret = avformat_open_input(&amp;fmt_ctx, argv[1], NULL, NULL)))</span><br><span class="line">		return ret;</span><br><span class="line"></span><br><span class="line">	while ((tag = av_dict_get(fmt_ctx-&gt;metadata, &quot;&quot;, tag, AV_DICT_IGNORE_SUFFIX)))</span><br><span class="line">		printf(&quot;%s=%s\n&quot;, tag-&gt;key, tag-&gt;value);</span><br><span class="line"></span><br><span class="line">	avformat_close_input(&amp;fmt_ctx);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>测试结果：
<img src="https://github.com/hubojing/BlogImages/blob/master/ffmpeg%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E2%80%94%E2%80%94test%E7%BB%93%E6%9E%9C.png?raw=true" alt="test"></p>
<p>至此，开发环境已就位。</p>
<p>参考：<a href="http://blog.csdn.net/spaceyqy/article/details/43115391" target="_blank" rel="noopener">vs2013+ffmpeg开发环境搭建</a></p>
<p>资料：<a href="http://blog.csdn.net/leixiaohua1020/article/details/15811977#comments" target="_blank" rel="noopener">FFMPEG视音频编解码零基础学习方法</a>
<a href="http://ffmpeg.org/documentation.html" target="_blank" rel="noopener">ffmpeg官方文档</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ffmpeg/">ffmpeg</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2015-2018 胡博靖
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 19;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>


    

    
        <script id="dsq-count-scr" src="//hubojing.disqus.com/count.js" async></script>
        <script>
            if ($(".left-col").is(":visible")) {
                var $disqusCount = $(".disqus-comment-count");
                $disqusCount.bind("DOMNodeInserted", function(e) {
                    var num = $(this).text().replace(/[^0-9]/ig,"");
                    if (num > 0) {
                        $(this).siblings(".count-comment").text(num);
                    }
                    $(this).remove();
                })
            } else {
                $(".disqus-comment-count").remove();
            }
        </script>
     




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "(つェ⊂) 快回来~ " + originTitle;
                clearTimeout(titleTime);
            }
            else {
                document.title = "(*´∇｀*) 欢迎回来~ " + originTitle;
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>