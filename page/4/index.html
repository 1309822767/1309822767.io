<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="胡博靖" />


    
    


<meta name="description" content="计算机|软件开发|通信工程|互联网|编程|程序员|代码|C++|Java|Android">
<meta property="og:type" content="website">
<meta property="og:title" content="胡博靖的技术博客">
<meta property="og:url" content="http://hubojing.github.io/page/4/index.html">
<meta property="og:site_name" content="胡博靖的技术博客">
<meta property="og:description" content="计算机|软件开发|通信工程|互联网|编程|程序员|代码|C++|Java|Android">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="胡博靖的技术博客">
<meta name="twitter:description" content="计算机|软件开发|通信工程|互联网|编程|程序员|代码|C++|Java|Android">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="胡博靖的技术博客" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">





    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>胡博靖的技术博客</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: false,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1498247776150&amp;di=a1fdc0869f65da377118893dfe708f5e&amp;imgtype=0&amp;src=http%3A%2F%2Fimg5.duitang.com%2Fuploads%2Fitem%2F201508%2F24%2F20150824132210_HjBJC.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">胡博靖</a></h1>
        </hgroup>

        
        <p class="header-subtitle">小清新IT旅程|为中华崛起读书</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/categories/互联网">互联网</a></li>
                        
                            <li><a href="/categories/通信工程">通信工程</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:hubojing@outlook.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/hubojing" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa CSDN" href="http://blog.csdn.net/hubojing/" title="CSDN"></a>
                            
                                <a class="fa Quora" href="https://www.quora.com/profile/Bojing-Hu/" title="Quora"></a>
                            
                                <a class="fa QQ" href="http://wpa.qq.com/msgrd?v=3&uin=417797456&site=qq&menu=yes" title="QQ"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/1602/">1602</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/3D/">3D</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BCG/">BCG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DigitalOcean/">DigitalOcean</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flash/">Flash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HOOPS-3D/">HOOPS 3D</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ListControl/">ListControl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MFC/">MFC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MFC-多线程/">MFC 多线程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenCV/">OpenCV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PPT动画/">PPT动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TreeControl/">TreeControl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eclipse/">eclipse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ffmpeg/">ffmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idea/">idea</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/matlab/">matlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/photoshop/">photoshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/socket/">socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/主题/">主题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/优化/">优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/公告/">公告</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数/">函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/创意/">创意</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动画/">动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单片机/">单片机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客/">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/域名/">域名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多说/">多说</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/奇淫技巧/">奇淫技巧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/密码锁/">密码锁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/嵌入式系统/">嵌入式系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思维/">思维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/手机/">手机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拆机/">拆机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/教程/">教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数字信号处理/">数字信号处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数码/">数码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/显示技术/">显示技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂谈/">杂谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树/">树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/病毒/">病毒</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/矩阵键盘/">矩阵键盘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/硬件/">硬件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/竞赛/">竞赛</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线代/">线代</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/装机/">装机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机图形学/">计算机图形学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/评测/">评测</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/说明/">说明</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/路由器/">路由器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/问题/">问题</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.iiwo.vip/">小忆</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.iwangyu.cn/">WangYu</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://ursb.me/">Airing</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://txiner.top/">Hundred</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.ersaijun.cn/">二赛君</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.yeqianfeng.me/">太阳尚远</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.qiujinfeng.com/">邱锦锋</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.waydrow.com/">Waydrow</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://qqdie.com/">Jrotty</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.just666.cn/">Shawn</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://theask.cn/">该问</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.sfantree.com/">水番林</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://rm-rf.moe/">梦的小窝</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.61mon.com/">刘毅</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.pokerboy.cn/">柚子鬼</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://zcheng.ren/">ZeeCoder</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.zcmol.cn/">早茶月光</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://rebootcat.com/">Linux之路</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://townwang.com/">王振镇</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://shawnzeng.com/">Shawnzeng</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.52itstyle.com/">小柒博客</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://frankchen.xyz/">不正经数据科学家</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://nolongerwait.com/">秦简</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://xiaowiba.com/">小尾巴</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://sopuy.com/">sopuy</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://itruke.com/">技术宅男子</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.5ih5.com.cn/">镜花水月</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://blog.isecret.vip/">Secret</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://www.pwyqspace.com/">PWYQ Space</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.mapan.win/">马攀</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://darrenliuwei.com/">刘伟</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://w4ctech.cn/">w4ctech</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">写代码的小清新，目标是成为学有建树的工程师。</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">胡博靖</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1498247776150&amp;di=a1fdc0869f65da377118893dfe708f5e&amp;imgtype=0&amp;src=http%3A%2F%2Fimg5.duitang.com%2Fuploads%2Fitem%2F201508%2F24%2F20150824132210_HjBJC.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">胡博靖</a></h1>
            </hgroup>
            
            <p class="header-subtitle">小清新IT旅程|为中华崛起读书</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/互联网">互联网</a></li>
                
                    <li><a href="/categories/通信工程">通信工程</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:hubojing@outlook.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/hubojing" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa CSDN" target="_blank" href="http://blog.csdn.net/hubojing/" title="CSDN"></a>
                            
                                <a class="fa Quora" target="_blank" href="https://www.quora.com/profile/Bojing-Hu/" title="Quora"></a>
                            
                                <a class="fa QQ" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=417797456&site=qq&menu=yes" title="QQ"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-hexo搭建再记录" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/08/hexo搭建再记录/" class="article-date">
      <time datetime="2017-10-08T14:17:33.000Z" itemprop="datePublished">2017-10-08</time>
</a>

 
    <a href="/2017/10/08/hexo搭建再记录/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2017/10/08/hexo搭建再记录/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/08/hexo搭建再记录/">hexo搭建再记录</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2319368393,4142727360&amp;fm=11&amp;gp=0.jpg&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;
&lt;/div&gt;
　　
　　
博客部署莫名崩了…重新搭建</p>
<p>问题突然解决　　
有新收获
　　
&lt;!--more--&gt;</p>
<h1><span id="hexo五步法">hexo五步法</span></h1>
<p>安装hexo所需的node.js和git不再赘述。在所需目录下git bash，输入以下五步即可生成本地博客页面。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init blog</span><br><span class="line">cd blog</span><br><span class="line">npm install</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20171008222407752?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="1"></p>
<p><img src="http://img.blog.csdn.net/20171008222452237?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="2"></p>
<p><img src="http://img.blog.csdn.net/20171008222651217?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="4-1"></p>
<p><img src="http://img.blog.csdn.net/20171008222800055?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="4-2"></p>
<p><img src="http://img.blog.csdn.net/20171008222849267?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="5"></p>
<p>在浏览器中输入localhost:4000即可查看本地页面。
<img src="http://img.blog.csdn.net/20171008222951058?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="localhost"></p>
<p>我们看一看生成了哪些文件。
<img src="http://img.blog.csdn.net/20171008223056199?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="blog">
根目录里生成了一个名为”blog“的文件夹。</p>
<p><img src="http://img.blog.csdn.net/20171008223149155?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="blog文件夹下"></p>
<p>1是node.js的模块，2是模板，3是源文件，4是主题，5是git用来忽略生成文件的，6是hexo配置文件，7是数据文件，8是各种包?。
1中已有：
<img src="http://img.blog.csdn.net/20171008225501020?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="node_modules"></p>
<p>这是目前我本地已安装的插件：
<img src="http://img.blog.csdn.net/20171008225756148?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="所需的插件"></p>
<hr>
<blockquote>
<p>问题：国庆假期部署不上来，<code>hexo d</code>后正常跑文件然后卡住，许久（感觉至少半小时+）报错：fatal: sha1 file '&lt;stdout&gt;' write error: Broken pipe</p>
</blockquote>
<p>此前只进行过2种不常用操作：
1.一次merge
2.更改了博客本地目录电脑的管理员用户名</p>
<p>说一下我做过的<strong>抢救</strong>：
1.三次revert回滚操作——没用
感谢iny的pull request，让我对git命令行操作又了解了一些，并且熟悉了github客户端操作。这次的问题不是merge的问题。
为什么如此肯定呢？</p>
<p>2.重设ssh——也许起到了作用
既然和merge无关，只可能和访问权限有关了。那ssh全部清空重设，github上的公钥也清空重来。注意：像我这样部署到github和coding的，别忘了coding也要重设ssh。
不过还是部署失败。真是迷一般的问题哟。影响放假心情，文章写好了发不出去的苦恼……</p>
<p>2.再次搭建——助攻
我将原有博客文件放入hexo1文件夹中。按照上述五步法再次搭建了一个新的博客放入hexo文件夹，复制相关文件（merge前）后再次部署依然不奏效。但是！！！
此时再次部署hexo1中的老博客，出现
<img src="http://img.blog.csdn.net/20171009224309375?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="强制升级">
强制升级！</p>
<p>此时博客终于是成功部署了。迷一样的问题，迷一样的解决。我都准备保留文章放弃其他所有换新（心疼好不容易再次冲破五千的浏览量差点又要归零）的。</p>
<p>但是有没有什么不同之处呢？有。请看：
<img src="http://img.blog.csdn.net/20171009224627646?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="新博客"></p>
<p>现在commit数只有6次。以前有372次，被冲掉了。（新瓶装旧酒→_→）
估计是它以为是新项目了吧，删除了之前的commit记录。
被冲掉竟然有一点开心，因为原来370+次刚开始都是特别小的不值得提交的改动，浪费版本号或者新增一条无意义的记录都是不恰当的行为。（新手重灾区=_=）</p>
<p>另外，这几天解决这个问题时，顺带终于是解了惑——为什么github上的项目和本地文件不同，压根用不了<code>git pull</code>和<code>git push</code>命令。也离年初立的flag：看懂主题文件，修改出自己满意的主题风格更近一步。</p>
<p>关于多机同步，这是个好帖子：
https://www.zhihu.com/question/21193762</p>
<p>需要拷贝到另一台电脑必备的文件：_config.yml，theme/，source/，scaffolds/，package.json，.gitignore</p>
<p>请问git命令行有没有什么能添加注释的地方显示在这个site updated这儿，让我方便查看变动之处。（客户端好像是可以的，但是local文件和github生成的静态文件不一致，好像也不太好办）</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-MFC网页分析程序" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/06/14/MFC网页分析程序/" class="article-date">
      <time datetime="2017-06-14T14:45:38.000Z" itemprop="datePublished">2017-06-14</time>
</a>

 
    <a href="/2017/06/14/MFC网页分析程序/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2017/06/14/MFC网页分析程序/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/14/MFC网页分析程序/">MFC网页分析程序</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;http://img.blog.csdn.net/20170805145839785?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;
&lt;/div&gt;
　　
　　
　　开发一个网页分析程序，可以抓取特定网页的内容，加以分析之后将结果保存至数据库。</p>
<p>V1.5上线，保存至sqlite数据库用时2分13秒。</p>
<p>&lt;!--more--&gt;</p>
<pre><code>网页分析程序具体要求描述如下：
1. 使用http技术获取一个博客的首页http://blog.csdn.net/jiangsheng
2. 分析这个网页的内容，从中找到博客中每一篇文章的链接。
3. 通过这些链接，获取文章的正文网页，从内容中提取文章的标题和文章的内容。
4. 将文章的标题与内容分别保存至数据库。
5. 布局要求：提供一个列表框和一个多行文本框。列表框中显示从数据库中获取的文章标题列表；当点击列表框中的某一篇文章时，在文本框中显示该文章的内容。
</code></pre>
<h1><span id="获取源码">获取源码</span></h1>
<p>因为需多次调用获取源码功能，将它放入一个函数中。</p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">CString CGetWebDlg::DownloadCodes(CString path)</span><br><span class="line">&#123;</span><br><span class="line">	CInternetSession session;</span><br><span class="line">	CHttpFile *file = <span class="literal">NULL</span>;</span><br><span class="line">	CString strURL = path;</span><br><span class="line">	CString strHtml = _T(<span class="string">""</span>); <span class="comment">//存放网页数据</span></span><br><span class="line">	<span class="keyword">try</span></span><br><span class="line">	&#123;</span><br><span class="line">		file = (CHttpFile*)session.OpenURL(strURL);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">catch</span> (CInternetException *m_pException)</span><br><span class="line">	&#123;</span><br><span class="line">		file = <span class="literal">NULL</span>;</span><br><span class="line">		m_pException-&gt;m_dwError;</span><br><span class="line">		m_pException-&gt;Delete();</span><br><span class="line">		session.Close();</span><br><span class="line">		MessageBox(<span class="string">"网络连接错误！"</span>, <span class="string">"提示"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	CString strLine;</span><br><span class="line">	<span class="keyword">char</span> sRecived[<span class="number">1024</span>];</span><br><span class="line">	<span class="keyword">if</span> (file != <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span> (file-&gt;ReadString((LPTSTR)sRecived, <span class="number">1024</span>) != <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			strHtml += sRecived;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		AfxMessageBox(_T(<span class="string">"失败！"</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	session.Close();</span><br><span class="line">	file-&gt;Close();</span><br><span class="line">	<span class="keyword">delete</span> file;</span><br><span class="line">	file = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	strHtml = ConvertUtf8ToGBK(strHtml);<span class="comment">//源码转换</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> strHtml;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2><span id="编码问题">编码问题</span></h2>
<p>注意网页编码问题，因此需要格式转换，编写一个函数：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span>  <span class="title">ConvertUtf8ToGBK</span><span class="params">(CString &amp;strUtf8)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">          </span><br><span class="line">    <span class="keyword">int</span> len=MultiByteToWideChar(CP_UTF8, <span class="number">0</span>, (LPCTSTR)strUtf8, <span class="number">-1</span>, <span class="literal">NULL</span>,<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">short</span> * wszGBK = <span class="keyword">new</span> <span class="keyword">unsigned</span> <span class="keyword">short</span>[len+<span class="number">1</span>];</span><br><span class="line">	<span class="built_in">memset</span>(wszGBK, <span class="number">0</span>, len * <span class="number">2</span> + <span class="number">2</span>);</span><br><span class="line">	MultiByteToWideChar(CP_UTF8, <span class="number">0</span>, (LPCTSTR)strUtf8, <span class="number">-1</span>, (LPWSTR)wszGBK, len);</span><br><span class="line"> </span><br><span class="line">	len = WideCharToMultiByte(CP_ACP, <span class="number">0</span>, (LPCWSTR)wszGBK, <span class="number">-1</span>, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>); </span><br><span class="line">	<span class="keyword">char</span> *szGBK=<span class="keyword">new</span> <span class="keyword">char</span>[len + <span class="number">1</span>];</span><br><span class="line">	<span class="built_in">memset</span>(szGBK, <span class="number">0</span>, len + <span class="number">1</span>);</span><br><span class="line">	WideCharToMultiByte (CP_ACP, <span class="number">0</span>, (LPCWSTR)wszGBK, <span class="number">-1</span>, szGBK, len, <span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line"> </span><br><span class="line">	strUtf8 = szGBK;</span><br><span class="line">	 <span class="keyword">delete</span>[] szGBK;</span><br><span class="line">	 <span class="keyword">delete</span>[] wszGBK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20170614232311302?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="显示源码"></p>
<p>有些类似网页爬虫的感觉。</p>
<p>由于我刚开始是用VC6.0创建项目，现在用VS2013打开，因此，提示报错：
error MSB8031: Building an MFC project for a non-Unicode character set is deprecated. You must change the project property to Unicode or download an additional library. See http://go.microsoft.com/fwlink/p/?LinkId=286820 for more information.</p>
<p>解决：用于多字节字符编码 (MBCS) 的 MFC 库 (DLL) 不再包含于 Visual Studio 中，但是可用作插件，可以在任何装有 Visual Studio Professional、Visual Studio Premium 或 Visual Studio Ultimate 的计算机上下载和安装。下载地址：https://www.microsoft.com/zh-cn/download/details.aspx?id=40770</p>
<h1><span id="解析">解析</span></h1>
<p><s>为了接下来的操作，我去学正则表达式了……</s>
还是学习html解析库 htmlcxx
<a href="http://htmlcxx.sourceforge.net/" target="_blank" rel="noopener">官方</a>
<a href="http://blog.csdn.net/youfangyuan/article/details/7816518" target="_blank" rel="noopener">HtmlCxx用户手册</a></p>
<h2><span id="htmlcxx">HTMLCXX</span></h2>
<h3><span id="下载htmlcxx库">下载htmlcxx库</span></h3>
<p>http://sourceforge.net/projects/htmlcxx/
并解压。</p>
<h3><span id="编译">编译</span></h3>
<p>打开htmlcxx.vcproj，右键属性，配置属性-C/C++-代码生成-运行库：多线程调试 DLL (/ MDd)进行编译。编译会报错，将
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *signature = <span class="string">"﻿"</span>;</span><br></pre></td></tr></table></figure></p>
<p>改为
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *signature = <span class="string">"﻿\xEF\xBB\xBF"</span>;</span><br></pre></td></tr></table></figure></p>
<p>即可编译成功。</p>
<h3><span id="导入">导入</span></h3>
<p>把生成的htmlcxx.lib和html文件夹拷贝到所需的工程中。即：
在所开发项目文件夹中，新建”htmlcxx“文件，里面添加两个子文件夹”lib“和”include“。将编译好的htmlcxx.lib拷贝到lib文件夹，将html文件夹中所有的.h头文件和ParserSax.tcc添加到include文件夹。添加库文件htmlcxx.lib到项目中，具体说来：</p>
<blockquote>
<p>在VS工程中，添加c/c++工程中外部头文件及库的基本步骤：
1、添加工程的头文件目录：工程---属性---配置属性---c/c++---常规---附加包含目录：加上头文件存放目录。
2、添加文件引用的lib静态库路径：工程---属性---配置属性---链接器---常规---附加库目录：加上lib文件存放目录。
然后添加工程引用的lib文件名：工程---属性---配置属性---链接器---输入---附加依赖项：加上lib文件名。
3、添加工程引用的dll动态库：把引用的dll放到工程的可执行文件所在的目录下。
注意：第一步可以不用，直接在工程里加入动态库的头文件，在使用代码处引用这个头文件。</p>
</blockquote>
<p>所开发的项目的头文件中添加以下内容：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"htmlcxx/include/ParserDom.h"</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> htmlcxx;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> comment(lib,<span class="meta-string">"htmlcxx.lib"</span>)</span></span><br></pre></td></tr></table></figure></p>
<h3><span id="测试">测试</span></h3>
<p>官方测试代码：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;htmlcxx/html/ParserDom.h&gt;</span></span></span><br><span class="line"> ...</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//Parse some html code</span></span><br><span class="line"> <span class="built_in">string</span> html = <span class="string">"&lt;html&gt;&lt;body&gt;hey&lt;/body&gt;&lt;/html&gt;"</span>;</span><br><span class="line"> HTML::ParserDom parser;</span><br><span class="line"> tree&lt;HTML::Node&gt; dom = parser.parseTree(html);</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//Print whole DOM tree</span></span><br><span class="line"> <span class="built_in">cout</span> &lt;&lt; dom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//Dump all links in the tree</span></span><br><span class="line"> tree&lt;HTML::Node&gt;::iterator it = dom.begin();</span><br><span class="line"> tree&lt;HTML::Node&gt;::iterator end = dom.end();</span><br><span class="line"> <span class="keyword">for</span> (; it != end; ++it)</span><br><span class="line"> &#123;</span><br><span class="line"> 	<span class="keyword">if</span> (it-&gt;tagName() == <span class="string">"A"</span>)</span><br><span class="line"> 	&#123;</span><br><span class="line"> 		it-&gt;parseAttributes();</span><br><span class="line"> 		<span class="built_in">cout</span> &lt;&lt; it-&gt;attributes(<span class="string">"href"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//Dump all text of the document</span></span><br><span class="line"> it = dom.begin();</span><br><span class="line"> end = dom.end();</span><br><span class="line"> <span class="keyword">for</span> (; it != end; ++it)</span><br><span class="line"> &#123;</span><br><span class="line"> 	<span class="keyword">if</span> ((!it-&gt;isTag()) &amp;&amp; (!it-&gt;isComment()))</span><br><span class="line"> 	&#123;</span><br><span class="line"> 		<span class="built_in">cout</span> &lt;&lt; it-&gt;text();</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p>
<p>然而……</p>
<p><img src="http://img.blog.csdn.net/20170709011136986?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="报错1"></p>
<p>加入#include&quot;iostream&quot;头文件即可。</p>
<p><img src="http://img.blog.csdn.net/20170709011240176?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="报错2"></p>
<p>修改为：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (it-&gt;tagName() == <span class="string">"A"</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				it-&gt;parseAttributes();</span><br><span class="line">				<span class="built_in">std</span>::pair&lt;<span class="keyword">bool</span>, <span class="built_in">std</span>::<span class="built_in">string</span>&gt; pa = it-&gt;attribute(<span class="string">"href"</span>);</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; pa.second;</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译通过。</p>
<p>还有其他的库也可以用，比如<a href="http://blog.csdn.net/lanuage/article/details/72825878" target="_blank" rel="noopener">使用MSHTML解析HTML页面</a>
比如<a href="http://www.oschina.net/question/565065_67992" target="_blank" rel="noopener">LIBXML2库使用指南</a>
还可以用正则表达式写库……</p>
<p>突然发现 原来的计划里有COM组件 XML和HTML 数据库访问技术
都没怎么接触过  补补补
在填坑的路上不能止步…</p>
<h3><span id="参考">参考</span></h3>
<p><a href="http://www.cnblogs.com/striver-zhu/p/4451781.html" target="_blank" rel="noopener">C++ 使用Htmlcxx解析Html内容(VS编译库文件)</a>
<a href="http://blog.csdn.net/farcall/article/details/20378475" target="_blank" rel="noopener">html与xml解析库htmlcxx使用过程中的若干问题及解决方案</a>
<a href="http://www.cnblogs.com/learning-lzj2014/p/3928346.html" target="_blank" rel="noopener">c++ hmtlcxx 学习之旅</a></p>
<h2><span id="mshtml">MSHTML</span></h2>
<p>因为最近用过MSXML，就试试MSHTML。学有余力的话，htmlcxx之后还是想玩一下…
https://msdn.microsoft.com/en-us/library/aa741317(v=vs.85).aspx
<a href="http://blog.csdn.net/jiangsheng/article/details/3793" target="_blank" rel="noopener">蒋晟-关于MSHTML</a>
https://msdn.microsoft.com/zh-cn/library/mshtml(v=vs.110).aspx</p>
<h3><span id="mshtml导入">MSHTML导入</span></h3>
<p>系统中自带了mshtml，和msxml一样，在C盘windows/system32中可找到。</p>
<p><a href="http://blog.csdn.net/mimica247706624/article/details/6128239" target="_blank" rel="noopener">如何导入</a></p>
<p>先看MSDN……
<a href="https://msdn.microsoft.com/en-us/library/aa741317%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396" target="_blank" rel="noopener">MSDN-MSHTML</a></p>
<p>再看各种搜集的文章
http://bbs.csdn.net/topics/330214041
http://www.cnblogs.com/speedmancs/archive/2010/08/11/1797442.html
http://blog.csdn.net/jinyaba/article/details/17097323
https://social.msdn.microsoft.com/Search/zh-CN?query=MSHTML&amp;pgArea=header&amp;emptyWatermark=true&amp;ac=4#refinementChanges=117&amp;pageNumber=1&amp;showMore=false
https://wenku.baidu.com/view/d571abc4ec3a87c24028c4bb.html
http://www.codeguru.com/cpp/i-n/ieprogram/article.php/c4385/Lightweight-HTML-Parsing-Using-MSHTML.htm
http://www.yesky.com/403/1938403.shtml?qq-pf-to=pcqq.c2c
http://www.bianceng.cn/Programming/vc/201411/46771.htm
https://wenku.baidu.com/view/299bba4a336c1eb91a375df5.html</p>
<p><s>思路：下载源码和获取链接是两个独立函数，会被多次调用。先获取首页源码，div id=&quot;archive_list&quot; 遍历该div获取各月份归档链接，再使用多线程（48个线程？？？）进入每个归档链接里下载源码，获取源码中h1的每篇文章标题,保存到数据库。</s></p>
<p>虽然有两种方法，一种通过归档获得链接，一种通过翻页获得链接，但根据本html特点，明显通过翻页要简洁方便一些，因为翻页的链接是有规律的，可通过循环搞定。每页5篇直接获得正文链接，比从归档获得少一层。<s>两核4个逻辑处理器，所以是开2个线程好还是4个好呢……</s></p>
<p>获取每篇正文链接，下载源码，解析得正文，保存到数据库。最后从数据库中提取标题和正文显示到对应窗口(使用ADO)。</p>
<h3><span id="解析过程">解析过程</span></h3>
<h4><span id="创建">创建</span></h4>
<p>1.使用CoCreateInstance创建一个接口
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HRESULT hr = CoCreateInstance(CLSID_HTMLDocument, NULL, CLSCTX_INPROC_SERVER, IID_IHTMLDocument2, (void**)&amp;pDoc);</span><br></pre></td></tr></table></figure></p>
<p>2.创建一个COM中的数组，将HTML字符串写到数组中</p>
<p>a）SafeArrayCreateVector:函数用来创建一个对应的数组结构。函数有三个参数，第一个参数表示数组中元素类型，一般给VT_VARIANT表示它是一个自动类型，第二个参数数组元素起始位置的下标，对于VC来说，数组元素总是从0开始，所以这个位置一般给0，第三个参数是数组的维数，在这将它作为一个字符数组，所以是一个一维数组。
b）SafeArrayAccessData：允许用户操作这个数组，在需要读写这个数组时都需要调用这个函数，以便获取这个数组的操作权。它有两个参数，第一个参数是数组变量，第二个参数是一个输出参数，当调用这个函数成功，会提供一个缓冲区，操作这个缓冲区就相当于操作了这个数组。
c）SafeArrayUnaccessData：每当操作数组完成时需要调用这个函数，函数与SafeArrayAccessData配套使用，用来回收这个权限，并使对数组的操作生效。</p>
<ol start="3">
<li>调用接口的write方法，将接口与HTML字符串绑定
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SAFEARRAY* psa = SafeArrayCreateVector(VT_VARIANT, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">VARIANT *param;</span><br><span class="line"><span class="keyword">bstr_t</span> bsData = (LPCTSTR)strHtml;</span><br><span class="line">hr = SafeArrayAccessData(psa, (LPVOID*)&amp;param);</span><br><span class="line">param-&gt;vt = VT_BSTR;</span><br><span class="line">param-&gt;bstrVal = (BSTR)bsData;</span><br><span class="line">hr = pDoc-&gt;write(psa);</span><br><span class="line">hr = SafeArrayUnaccessData(psa);</span><br></pre></td></tr></table></figure></li>
</ol>
<p>目标：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class=&quot;link_title&quot;&gt;&lt;a href=&quot;/jiangsheng/article/details/9870241&quot;&gt;</span><br><span class="line">选择剪贴板格式顺序            </span><br><span class="line">&lt;/a&gt;</span><br><span class="line">&lt;/span&gt;</span><br></pre></td></tr></table></figure></p>
<p>整个 &lt;span&gt; &lt;/span&gt;  是元素， &lt;span&gt;  是标签，class是属性名，link_title是属性值，“选择剪贴板格式顺序”是文本。</p>
<h4><span id="元素遍历">元素遍历</span></h4>
<p>至少两种方法：
法一：
获取了HTML文档的IID_IHTMLDocument2接口后，开始遍历：
1.get_all方法获取所有标签节点，这个函数通过一个输出参数输出IHTMLElementCollection类型的接口指针
2.用IHTMLElementCollection接口的get_length方法获取标签的总数量，据此写一个循环，在循环进行元素的遍历
3.循环中用IHTMLElementCollection接口的item方法进行迭代，获取各元素对应的IDispatch接口指针
4.调用IDispatch接口指针的QueryInterface方法生成对应的IHTMLElement接口。通过这个接口获取元素的各种信息</p>
<p>以下已能成功获取标题：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">void CGetWebDlg::EnumElements(IHTMLDocument2* pDoc)</span><br><span class="line">&#123;</span><br><span class="line">	CComPtr&lt;IHTMLElementCollection&gt; pCollection;</span><br><span class="line">	pDoc-&gt;get_all(&amp;pCollection);</span><br><span class="line">	if (NULL == pCollection)</span><br><span class="line">	&#123;</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line">	VARIANT varName;</span><br><span class="line">	CString strText;</span><br><span class="line">	long len = 0;</span><br><span class="line">	pCollection-&gt;get_length(&amp;len);</span><br><span class="line">	for (int i = 0; i &lt; len; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		varName.vt = VT_I4;</span><br><span class="line">		varName.lVal = i;</span><br><span class="line">		CComPtr&lt;IHTMLElement&gt; pElement;</span><br><span class="line">		CComPtr&lt;IDispatch&gt; pDisp;</span><br><span class="line">		pCollection-&gt;item(varName, varName, &amp;pDisp);</span><br><span class="line">		if (NULL == pDisp)</span><br><span class="line">		&#123;</span><br><span class="line">			continue;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		pDisp-&gt;QueryInterface(IID_IHTMLElement, (LPVOID*)&amp;pElement);</span><br><span class="line">		if (NULL != pElement)</span><br><span class="line">		&#123;</span><br><span class="line">			BSTR bstrClass;	</span><br><span class="line">			pElement-&gt;get_className(&amp;bstrClass);</span><br><span class="line">			CString strClass = _com_util::ConvertBSTRToString(bstrClass);</span><br><span class="line">			if (strClass.Compare(&quot;link_title&quot;) == 0)</span><br><span class="line">			&#123;</span><br><span class="line">					BSTR bstrText = NULL;</span><br><span class="line">					pElement-&gt;get_innerText(&amp;bstrText);</span><br><span class="line">					strText = bstrText;</span><br><span class="line">					m_list.InsertItem(i, strText);</span><br><span class="line">			&#125;			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>法二：
利用IHTMLDocument2将字符串形式的HTML转换为DOM对象，利用IHTMLDocument3的getElementByTagName等方法来操作DOM对象。
以下已能成功获取标题：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">MSHTML::IHTMLDocument3Ptr pDoc3;</span><br><span class="line"> 	MSHTML::IHTMLElementCollectionPtr pCollection;</span><br><span class="line"> 	MSHTML::IHTMLElementPtr pElement;</span><br><span class="line"></span><br><span class="line">pDoc3 = pDoc;</span><br><span class="line">pCollection = pDoc3-&gt;getElementsByTagName(L&quot;span&quot;);</span><br><span class="line">for (long i = 0; i &lt; pCollection-&gt;length; i++)</span><br><span class="line">&#123;</span><br><span class="line">	pElement = pCollection-&gt;item(i, (long)0);</span><br><span class="line">	if (pElement != NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		BSTR bstrClass;</span><br><span class="line">		pElement-&gt;get_className(&amp;bstrClass);</span><br><span class="line">		CString strClass = _com_util::ConvertBSTRToString(bstrClass);</span><br><span class="line">		if (strClass.Compare(&quot;link_title&quot;) == 0)</span><br><span class="line">		&#123;</span><br><span class="line">			BSTR bstrText = NULL;</span><br><span class="line">			pElement-&gt;get_innerText(&amp;bstrText);</span><br><span class="line">			CString strText = bstrText;</span><br><span class="line">			m_list.InsertItem(i, strText);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>其实两种方法大同小异，相较而言可能数据量大的话，法二效率高些吧。因为法一是直接遍历所有的元素寻找class相同的，而法二是先定位span，然后在span中找寻class。（getElementsByTagName只有IHTMLDocument3Ptr）</p>
<p><a href="http://blog.csdn.net/lanuage/article/details/72825878" target="_blank" rel="noopener">使用MSHTML解析HTML页面</a>
<a href="http://www.2cto.com/kf/201305/214730.html" target="_blank" rel="noopener">变体VARIANT</a>
MSDN-DOM	https://msdn.microsoft.com/en-us/library/ms766487(v=vs.85).aspx
<a href="http://www.360doc.com/content/12/0427/19/8006573_207099529.shtml" target="_blank" rel="noopener">使用MSHTML接口获取链接</a></p>
<p>晚上几个小时做完了一半，抵了之前一两个月。
数据库这块没来得及做，没加多线程，很多细节还得调。但比起之前心有余而力不足的感觉还是好多了。  学过msxml后，学习mshtml确实强一点，比一个月前完全不知道怎么下手好很多了。</p>
<p>今晚总算做出来个半成品
<img src="http://img.blog.csdn.net/20170802003740628?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="半成品"></p>
<h4><span id="正文解析">正文解析</span></h4>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CGetWebDlg::ArticleParse(CString strArticle, Blog* blog, <span class="keyword">int</span> iRow)</span><br><span class="line">&#123;</span><br><span class="line">	IHTMLDocument2* pDoc;</span><br><span class="line">	MSHTML::IHTMLDocument3Ptr pDoc3;</span><br><span class="line">	MSHTML::IHTMLElementCollectionPtr pCollection;</span><br><span class="line">	MSHTML::IHTMLElementPtr pElement;</span><br><span class="line"></span><br><span class="line">	HRESULT hr = CoCreateInstance(CLSID_HTMLDocument, <span class="literal">NULL</span>, CLSCTX_INPROC_SERVER, IID_IHTMLDocument2, (<span class="keyword">void</span>**)&amp;pDoc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//将代码放入安全数组并写入文档</span></span><br><span class="line">	SAFEARRAY* psa = SafeArrayCreateVector(VT_VARIANT, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">if</span> (psa == <span class="literal">NULL</span> || pDoc == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		MessageBox(_T(<span class="string">"创建Document2对象失败！"</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	VARIANT *param;</span><br><span class="line">	<span class="keyword">bstr_t</span> bsData = (LPCTSTR)strArticle;</span><br><span class="line">	hr = SafeArrayAccessData(psa, (LPVOID*)&amp;param);</span><br><span class="line">	param-&gt;vt = VT_BSTR;</span><br><span class="line">	param-&gt;bstrVal = (BSTR)bsData;</span><br><span class="line">	hr = pDoc-&gt;write(psa);</span><br><span class="line">	<span class="comment">//hr = pDoc-&gt;close();</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//SafeArrayDestroy(psa);</span></span><br><span class="line">	hr = SafeArrayUnaccessData(psa);</span><br><span class="line">	<span class="keyword">_bstr_t</span> href;</span><br><span class="line">	pDoc3 = pDoc;</span><br><span class="line">	pCollection = pDoc3-&gt;getElementsByTagName(<span class="string">L"div"</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">long</span> k = <span class="number">0</span>; k &lt; pCollection-&gt;length; k++)</span><br><span class="line">	&#123;</span><br><span class="line">		pElement = pCollection-&gt;item(k, (<span class="keyword">long</span>)<span class="number">0</span>);</span><br><span class="line">		<span class="keyword">if</span> (pElement != <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			BSTR bstrClass;</span><br><span class="line">			pElement-&gt;get_id(&amp;bstrClass);</span><br><span class="line">			CString strClass = _com_util::ConvertBSTRToString(bstrClass);</span><br><span class="line">			<span class="keyword">if</span> (strClass.CompareNoCase(<span class="string">"article_content"</span>) == <span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				BSTR bstrText = <span class="literal">NULL</span>;</span><br><span class="line">				pElement-&gt;get_innerText(&amp;bstrText);</span><br><span class="line">				CString strText = bstrText;</span><br><span class="line">				blog-&gt;article = strText;</span><br><span class="line">				m_list.SetItemData(iRow, (DWORD_PTR)blog);							</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>建立了一个结构体用来存放每篇文章的标题和正文，方便点击列表控件项时读取对应的结构体。</p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Blog</span></span></span><br><span class="line"><span class="class">	&#123;</span></span><br><span class="line">		CString title;</span><br><span class="line">		CString article;</span><br><span class="line">	&#125;;</span><br></pre></td></tr></table></figure></p>
<h4><span id="列表控件和编辑框交互">列表控件和编辑框交互</span></h4>
<h5><span id="列表控件初始化">列表控件初始化</span></h5>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CRect rectLocal;</span><br><span class="line">m_list.GetClientRect(rectLocal); <span class="comment">//获得当前客户区信息</span></span><br><span class="line">m_list.InsertColumn(<span class="number">0</span>, <span class="string">"序号"</span>, LVCFMT_LEFT, rectLocal.Width() / <span class="number">6</span>, <span class="number">0</span>);</span><br><span class="line">m_list.InsertColumn(<span class="number">1</span>, <span class="string">"文章列表"</span>, LVCFMT_LEFT, rectLocal.Width() / <span class="number">6</span> * <span class="number">5</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure></p>
<p>添加多列后，单击只能选中第一列，这时需要修改风格 LVS_EX_FULLROWSELECT   表示整行。
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m_list.SetExtendedStyle(LVS_EX_FULLROWSELECT);</span><br></pre></td></tr></table></figure></p>
<h5><span id="添加数据">添加数据</span></h5>
<p>单纯添加一项的话：	m_list.InsertItem(项的索引, 数据);
但要指定列的话：
m_list.InsertItem(项的索引, &quot;&quot;);
m_list.SetItemText(行, 列, 数据);</p>
<h5><span id="onlvnitemchangedlist">OnLvnItemchangedList</span></h5>
<p>试了多种方法，只有这一种成功了：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CGetWebDlg::OnLvnItemchangedList1(NMHDR *pNMHDR, LRESULT *pResult)</span><br><span class="line">&#123;</span><br><span class="line">	LPNMLISTVIEW pNMLV = <span class="keyword">reinterpret_cast</span>&lt;LPNMLISTVIEW&gt;(pNMHDR);</span><br><span class="line">	<span class="comment">// <span class="doctag">TODO:</span>  在此添加控件通知处理程序代码</span></span><br><span class="line"><span class="comment">// 	m_edit.SetWindowText("");</span></span><br><span class="line"><span class="comment">// 	int index = m_list.GetNextItem(-1, LVNI_ALL | LVNI_SELECTED);</span></span><br><span class="line"><span class="comment">// 	Blog *pStructure = (Blog*)m_list.GetItemData(index);</span></span><br><span class="line"><span class="comment">// 	m_edit.SetWindowText(pStructure-&gt;article);</span></span><br><span class="line">	<span class="keyword">if</span> (pNMLV-&gt;uNewState == (LVIS_SELECTED | LVIS_FOCUSED))</span><br><span class="line">	&#123;</span><br><span class="line">		m_edit.SetWindowText(<span class="string">""</span>);</span><br><span class="line">		Blog *pStructure = (Blog*)m_list.GetItemData(pNMLV-&gt;iItem);</span><br><span class="line">		m_edit.SetWindowText(pStructure-&gt;article);</span><br><span class="line">	&#125;</span><br><span class="line">	*pResult = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实现列表和编辑框交互后，可以说这已经是一个可以完整运行的程序了，V1.0版本出炉。
实测解析时间：1分41秒
能够成功获取该博客111篇文章，能够正确显示正文（包括清晰显示代码）。现在的运行图：
<img src="http://img.blog.csdn.net/20170805145839785?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="V1.0">
该版本未添加多线程、未和数据库关联。</p>
<p>V2.0实现数据库操作</p>
<h1><span id="使用sqlite数据库">使用sqlite数据库</span></h1>
<h2><span id="下载导入">下载导入</span></h2>
<p>官网下载sqlite
Source Code  sqlite-amalgamation-3200000.zip  有三个东西  shell.c  sqlite3.c  sqlite3.h
根据<a href="http://blog.csdn.net/sunnyloves/article/details/39010831" target="_blank" rel="noopener">VS2010下SQLite3生成lib库文件</a> 文章方法生成sqlite3.lib</p>
<p>Precompiled Binaries for Windows  sqlite-dll-win32-x86-3200000.zip  有一个所需 sqlite3.dll</p>
<p>将lib和dll放入项目工程里，在.cpp开头加上
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"sqlite3.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> comment(lib,<span class="meta-string">"sqlite3.lib"</span>)</span></span><br></pre></td></tr></table></figure></p>
<h2><span id="保存至sqlite数据库">保存至sqlite数据库</span></h2>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> CGetWebDlg::Database(<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Blog*&gt; &amp;vecBlog)</span><br><span class="line">&#123;</span><br><span class="line">	sqlite3 * pDB;</span><br><span class="line">	<span class="keyword">char</span>* errMsg;</span><br><span class="line">	<span class="comment">// 连接SQLite数据库</span></span><br><span class="line">	<span class="keyword">int</span> res = sqlite3_open(<span class="string">"test.db"</span>, &amp;pDB);</span><br><span class="line">	<span class="keyword">if</span> (res != SQLITE_OK)</span><br><span class="line">	&#123;</span><br><span class="line">		MessageBox(_T(<span class="string">"数据库打开失败，请检查后再操作！"</span>), <span class="literal">NULL</span>, MB_ICONSTOP);</span><br><span class="line">		sqlite3_close(pDB);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 创建表</span></span><br><span class="line">    <span class="built_in">string</span> strSQL = <span class="string">"create table blog (title text, article text);"</span>;</span><br><span class="line">    res = sqlite3_exec(pDB, strSQL.c_str(), <span class="number">0</span>, <span class="number">0</span>, &amp;errMsg);</span><br><span class="line">    <span class="keyword">if</span> (res != SQLITE_OK)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox(_T(<span class="string">"数据库打开失败，请检查后再操作！"</span>), <span class="literal">NULL</span>, MB_ICONSTOP);</span><br><span class="line">        <span class="comment">//return -1;</span></span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">// 插入数据</span></span><br><span class="line">		<span class="built_in">vector</span>&lt;Blog*&gt;::iterator iter;</span><br><span class="line">		<span class="keyword">for</span> (iter = vecBlog.begin(); iter != vecBlog.end(); iter++)</span><br><span class="line">		&#123;</span><br><span class="line">			</span><br><span class="line">			CString cstrTitle = (*iter)-&gt;title;</span><br><span class="line">			CString cstrArticle = (*iter)-&gt;article;</span><br><span class="line">			cstrTitle = ConvertGBKToUtf8(cstrTitle);</span><br><span class="line">			cstrArticle = ConvertGBKToUtf8(cstrArticle);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">char</span> *p1 = cstrTitle.GetBuffer(cstrTitle.GetLength() + <span class="number">1</span>);</span><br><span class="line">			cstrTitle.ReleaseBuffer();</span><br><span class="line">			<span class="keyword">char</span> *p2 = cstrArticle.GetBuffer(cstrArticle.GetLength() + <span class="number">1</span>);</span><br><span class="line">			cstrArticle.ReleaseBuffer();</span><br><span class="line">			<span class="keyword">char</span> *strSQL = sqlite3_mprintf(<span class="string">"INSERT INTO blog VALUES('%q','%q')"</span>, p1, p2);</span><br><span class="line">			sqlite3_exec(pDB, strSQL, <span class="number">0</span>, <span class="number">0</span>, &amp;errMsg);</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>当然，也可以事先把数据库和表创建好……
<img src="http://img.blog.csdn.net/20170812235933407?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="创建数据库和表"></p>
<p>因为sqlite数据库是UTF-8格式存储，于是，需要一个转换函数：</p>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString  <span class="title">ConvertUtf8ToGBK</span><span class="params">(CString &amp;strUtf8)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">          </span><br><span class="line">    <span class="keyword">int</span> len=MultiByteToWideChar(CP_UTF8, <span class="number">0</span>, (LPCTSTR)strUtf8, <span class="number">-1</span>, <span class="literal">NULL</span>,<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">short</span> * wszGBK = <span class="keyword">new</span> <span class="keyword">unsigned</span> <span class="keyword">short</span>[len+<span class="number">1</span>];</span><br><span class="line">	<span class="built_in">memset</span>(wszGBK, <span class="number">0</span>, len * <span class="number">2</span> + <span class="number">2</span>);</span><br><span class="line">	MultiByteToWideChar(CP_UTF8, <span class="number">0</span>, (LPCTSTR)strUtf8, <span class="number">-1</span>, (LPWSTR)wszGBK, len);</span><br><span class="line"> </span><br><span class="line">	len = WideCharToMultiByte(CP_ACP, <span class="number">0</span>, (LPCWSTR)wszGBK, <span class="number">-1</span>, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>); </span><br><span class="line">	<span class="keyword">char</span> *szGBK=<span class="keyword">new</span> <span class="keyword">char</span>[len + <span class="number">1</span>];</span><br><span class="line">	<span class="built_in">memset</span>(szGBK, <span class="number">0</span>, len + <span class="number">1</span>);</span><br><span class="line">	WideCharToMultiByte (CP_ACP, <span class="number">0</span>, (LPCWSTR)wszGBK, <span class="number">-1</span>, szGBK, len, <span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line"> </span><br><span class="line">	strUtf8 = szGBK;</span><br><span class="line">	 <span class="keyword">delete</span>[] szGBK;</span><br><span class="line">	 <span class="keyword">delete</span>[] wszGBK;</span><br><span class="line">	 <span class="keyword">return</span> strUtf8;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2><span id="出现的问题">出现的问题</span></h2>
<ol>
<li>如图，数据少时并不会出现。
<img src="http://img.blog.csdn.net/20171006211052844?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Q1">
<img src="http://img.blog.csdn.net/20171006211119313?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Q2"></li>
</ol>
<p>2.好像是运行了脚本
<img src="http://img.blog.csdn.net/20171006211200087?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Q3">
据查将“script”修改成别的字符便不会运行脚本，并没尝试成功。</p>
<h2><span id="效果">效果</span></h2>
<p>下载了一个SQLiteStudio可视化管理工具。可见数据已成功保存至数据库。
<img src="http://img.blog.csdn.net/20171006211410475?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="sqlite"></p>
<h2><span id="从sqlite数据库读取数据">从sqlite数据库读取数据</span></h2>
<p>新建工程。
主要用到该函数：
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sqlite3_get_table</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  sqlite3 *db,          <span class="comment">/* An open database */</span></span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="keyword">const</span> <span class="keyword">char</span> *zSql,     <span class="comment">/* SQL to be evaluated */</span></span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="keyword">char</span> ***pazResult,    <span class="comment">/* Results of the query */</span></span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="keyword">int</span> *pnRow,           <span class="comment">/* Number of result rows written here */</span></span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="keyword">int</span> *pnColumn,        <span class="comment">/* Number of result columns written here */</span></span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="keyword">char</span> **pzErrmsg       <span class="comment">/* Error msg written here */</span></span></span></span><br><span class="line"><span class="function"><span class="params">)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sqlite3_free_table</span><span class="params">(<span class="keyword">char</span> **result)</span></span>;</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CGetDataFromSqliteDlg::OnBnClickedBtnreaddata()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// <span class="doctag">TODO:</span>  在此添加控件通知处理程序代码</span></span><br><span class="line">	sqlite3 * pDB;</span><br><span class="line">	<span class="keyword">char</span>* errMsg;</span><br><span class="line">	<span class="comment">// 连接SQLite数据库</span></span><br><span class="line">	<span class="keyword">int</span> res = sqlite3_open(<span class="string">"test.db"</span>, &amp;pDB);</span><br><span class="line">	<span class="keyword">if</span> (res != SQLITE_OK)&#123;</span><br><span class="line">		MessageBox(_T(<span class="string">"数据库打开失败，请检查后再操作！"</span>), <span class="literal">NULL</span>, MB_ICONSTOP);</span><br><span class="line">		sqlite3_close(pDB);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">string</span> strSql = <span class="string">"select * from blog"</span>;</span><br><span class="line">	<span class="keyword">char</span>** pResult;</span><br><span class="line">	<span class="keyword">int</span> nRow;</span><br><span class="line">	<span class="keyword">int</span> nCol;</span><br><span class="line">	<span class="keyword">int</span> nResult;</span><br><span class="line">	nResult = sqlite3_get_table(pDB, strSql.c_str(), &amp;pResult, &amp;nRow, &amp;nCol, &amp;errMsg);</span><br><span class="line">	<span class="keyword">if</span> (nResult != SQLITE_OK)</span><br><span class="line">	&#123;</span><br><span class="line">		sqlite3_close(pDB);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; errMsg &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		sqlite3_free(errMsg);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Blog*&gt;vecBlog;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">string</span> strOut;</span><br><span class="line">	<span class="keyword">int</span> nIndex = <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nRow; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		Blog* blog = <span class="keyword">new</span> Blog;</span><br><span class="line">		<span class="built_in">string</span> tempTitle = pResult[nIndex];</span><br><span class="line">		<span class="built_in">string</span> tempArticle = pResult[nIndex + <span class="number">1</span>];</span><br><span class="line">		CString number;</span><br><span class="line">		number.Format(<span class="string">"%d"</span>, i + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		m_list.InsertItem(nRow, <span class="string">""</span>);</span><br><span class="line">		CString strTitle(tempTitle.c_str());</span><br><span class="line">		CString strArticle(tempArticle.c_str());</span><br><span class="line">		ConvertUtf8ToGBK(strTitle);</span><br><span class="line">		ConvertUtf8ToGBK(strArticle);</span><br><span class="line">		blog-&gt;title = strTitle;</span><br><span class="line">		blog-&gt;article = strArticle;</span><br><span class="line">		vecBlog.push_back(blog);</span><br><span class="line">		m_list.SetItemText(i, <span class="number">0</span>, number);</span><br><span class="line">		m_list.SetItemText(i, <span class="number">1</span>, strTitle);</span><br><span class="line">		m_list.SetItemData(i, (DWORD_PTR)blog);</span><br><span class="line"></span><br><span class="line">		nIndex = nIndex + <span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	sqlite3_free_table(pResult);</span><br><span class="line">	sqlite3_close(pDB);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>同样地，注意格式转码。</p>
<h2><span id="成品">成品</span></h2>
<p><img src="http://img.blog.csdn.net/20171006231410366?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="V1.5"></p>
<p>V1.5成功实现从sqlite数据库读取数据并反映在列表和编辑框中。</p>
<p>To be continued...</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MFC/">MFC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/爬虫/">爬虫</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-网件R7000评测" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/12/网件R7000评测/" class="article-date">
      <time datetime="2017-09-12T15:20:00.000Z" itemprop="datePublished">2017-09-12</time>
</a>

 
    <a href="/2017/09/12/网件R7000评测/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2017/09/12/网件R7000评测/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/12/网件R7000评测/">网件R7000评测</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1505329097424&amp;di=d41ee8551a7dc53b1862bbb892050dfc&amp;imgtype=0&amp;src=http%3A%2F%2Fwww.happysm.cn%2Fupfile%2Fproimage%2F201512914511662165.jpg&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p>等了一个月不降价，昨天到货今天就降价。。。。。。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;
前言：11日到货，12日凌晨R8000就降价，比R7000只贵100元。 求我的心理阴影面积？</p>
<h1><span id="开包">开包</span></h1>
<p><img src="http://img.blog.csdn.net/20170912233339989?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="包裹">
评测文里总是要拍一下包装，来证明自己是亲测不是盗图。。。。。。（忽略粉粉的码）</p>
<h1><span id="实物">实物</span></h1>
<p><img src="http://img.blog.csdn.net/20170912233557678?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="正面">
<img src="http://img.blog.csdn.net/20170912233625250?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="背面">
<img src="http://img.blog.csdn.net/20170912233654422?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="开盒">
<img src="http://img.blog.csdn.net/20170912233722773?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="内含">
<img src="http://img.blog.csdn.net/20170912233759091?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="接口">
<img src="http://img.blog.csdn.net/20170912233833433?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="外观"></p>
<p>AC1900智能无线路由器R7000 × 1 天线 × 3 安装指导 × 1 电源适配器 × 1
<strong>实拍，无滤镜，无P图！让你看到一个真实的关机状态没绚丽闪光的买家秀。</strong></p>
<p>不拍了，安路由器五分钟，拍照半小时……</p>
<h1><span id="安装">安装</span></h1>
<ol>
<li>把天线装上
只能逆时针旋转……这个反人道的设计</li>
<li>拔掉原来的路由器</li>
<li>拔掉光猫电源</li>
<li>再插上光猫电源（why？重新接入网路？）</li>
<li>连上新路由器</li>
<li>插上新路由器电源</li>
<li>按下新路由器开关</li>
<li>等待指示灯闪到正常</li>
<li>连上网线
这样就安好了...</li>
</ol>
<h1><span id="设置">设置</span></h1>
<p>打开浏览器，第一次会自动进入，以后需输入：www.routerlogin.net访问。
傻瓜式设置（二次截图使图片有些高糊）：
<img src="http://img.blog.csdn.net/20170913000131365?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="1">
<img src="http://img.blog.csdn.net/20170913000248884?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="2">
<img src="http://img.blog.csdn.net/20170913231227081?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="3">
<img src="http://img.blog.csdn.net/20170913231323903?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="4">
<img src="http://img.blog.csdn.net/20170913231442361?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="5">
<img src="http://img.blog.csdn.net/20170913231514495?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="6">
<img src="http://img.blog.csdn.net/20170913231547902?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="7">
<img src="http://img.blog.csdn.net/20170913231645967?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="8">
<img src="http://img.blog.csdn.net/20170913231726620?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="9">
<img src="http://img.blog.csdn.net/20170913231813695?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="10">
<img src="http://img.blog.csdn.net/20170913231906606?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="11">
<img src="http://img.blog.csdn.net/20170913232002043?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="12">
<img src="http://img.blog.csdn.net/20170913232058110?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="13">
<img src="http://img.blog.csdn.net/20170913232143914?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="14">
<img src="http://img.blog.csdn.net/20170913232501930?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="15">
<img src="http://img.blog.csdn.net/20170913233050401?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="16">
<img src="http://img.blog.csdn.net/20170913233159198?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="17">
<img src="http://img.blog.csdn.net/20170913233247869?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="18">
<img src="http://img.blog.csdn.net/20170913234326095?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="19"></p>
<h1><span id="参数">参数</span></h1>
<p>抱着了解的态度，不能当小白...</p>
<p>AC1900 Nighthawk R7000 双频千兆无线路由器
博通双核1G处理器  256M内存  并发双频  5个千兆端口 USB3.0  双USB接口 动态QoS  ReadyCLOUD</p>
<p>网件R7000上市时间是2014年6月
R7000P上市时间是2017年
R8500上市时间是2015年末
R9000上市时间是2016年</p>
<p>接着了解一些参数：
传输频段：
2.4G频段和5G频段:
2.4G 穿透性好 传输距离近
5G穿透性差 传输距离远</p>
<p>R7000 2.4G最高600M(200Mbps x 3)
5G最高1300M（433Mbps x 3）
（电视能搜到5G频段、笔记本却搜不到...）</p>
<p>无线桥接：无线桥接技术是一种局域网络无线连接的技术，是无线射频技术和传统的有线网桥技术相结合的产物，它可以无缝地将相隔数十公里的局域网络连接在一起，创建统一的企业或城域网络系统。在最简单的网络构架中，网桥的以太网端口连接到局域网中的某个集线器或交换机上，信号发射端口则通过电缆和天线相连接；通过这样的方式实现网络系统的扩展。
无线路由器的好处是：无需连接网线，手机、电脑同时共享网络。缺点是：有效距离短，还会被墙壁等障碍物屏蔽或减弱讯号。简单地说就是使用多个路由器扩大无线网络的范围。</p>
<p>WPS：路由器中WPS是由Wi-Fi联盟所推出的全新Wi-Fi安全防护设定(Wi-Fi Protected Setup)标准，该标准推出的主要原因是为了解决长久以来无线网络加密认证设定的步骤过于繁杂艰难之弊病，使用者往往会因为步骤太过麻烦，以致干脆不做任何加密安全设定，因而引发许多安全上的问题。WPS用于简化Wi-Fi无线的安全设置和网络管理。它支持两种模式：个人识别码(PIN)模式和按钮(PBC)模式。只要网卡支持WPS，路由也支持，只要电脑上点击WPS配对，然后按一下路由器上的WPS系统会自动的在两个设备之间建立连接，这种方式比输入密码更方便，更安全。</p>
<p>Qos：QoS（Quality of Service）服务质量，是网络的一种安全机制, 是用来解决网络延迟和阻塞等问题的一种技术。 在正常情况下，如果网络只用于特定的无时间限制的应用系统，并不需要QoS，比如Web应用，或E-mail设置等。但是对关键应用和多媒体应用就十分必要。当网络过载或拥塞时，QoS 能确保重要业务量不受延迟或丢弃，同时保证网络的高效运行。QoS限速对局域网内各个IP地址进行流量控制，以达到稳定而优质的上网的目的。这个功能对局域网内使用P2P下载占用大量带宽的情形有非常好的改善。</p>
<p>传输标准：IEEE 802.11n；IEEE 802.11g；IEEE 802.11b；IEEE 802.11.ac；IEEE 802.11.a
这个没什么说的。。。</p>
<p>电源	12V 3.5A</p>
<p>内网穿透：内网穿透即NAT穿透，网络连接时术语，计算机是局域网内时，外网与内网的计算机节点需要连接通信，有时就会出现不支持内网穿透。就是说映射端口,能让外网的电脑找到处于内网的电脑,提高下载速度。不管是内网穿透还是其他类型的网络穿透，都是网络穿透的统一方法来研究和解决。端口映射，其实就是常说的NAT地址转换的一种，其功能就是把在公网的地址转翻译成私有地址， 采用路由方式的ADSL宽带路由器拥有一个动态或固定的公网IP，ADSL直接接在HUB或交换机上，所有的电脑共享上网。在局域网内部的任一PC或服务器上运行到花生壳内网穿透客户端，此时域名解析到的IP地址是局域网网关出口处的公网IP地址，再在网关处做端口映射指向监控设备即可。</p>
<p>R7000不支持内网穿透。</p>
<p>R7000P比R7000多一个MU-MIMO
MU-MIMO：“Multi-User Multiple-Input Multiple-Output”的缩写，“多用户多入多出技术”，让路由器同时与多个设备沟通的技术。</p>
<h1><span id="网速测试">网速测试</span></h1>
<p>100M光纤</p>
<p>1笔记本：
<img src="http://img.blog.csdn.net/20170913000407719?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="laptop"></p>
<p>1台式：
<img src="http://img.blog.csdn.net/20170913000445094?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="pc"></p>
<p>相比以前的TP老路由器，网速一脸满足...</p>
<p>一天下来，路由器有点发热。查了下，R7000是BCM芯片，ARM架构CPU，性能高但发热较大。三天线，比较公认的信号强覆盖广的一款家用路由，整体兼容性好。
另外，路由器还是白色好看（→_→）</p>
<hr>
<p>今天有个网易云好友私信我节日快乐。。。一脸懵圈，遂百度
9.13程序员节 一年中的第256天，2^8次方。。。。。。
好吧 节日快乐</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/通信工程/">通信工程</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/评测/">评测</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/路由器/">路由器</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-树状控件与列表控件交互以及XML的解析" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/07/20/树状控件与列表控件交互以及XML的解析/" class="article-date">
      <time datetime="2017-07-20T15:04:43.000Z" itemprop="datePublished">2017-07-20</time>
</a>

 
    <a href="/2017/07/20/树状控件与列表控件交互以及XML的解析/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2017/07/20/树状控件与列表控件交互以及XML的解析/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/20/树状控件与列表控件交互以及XML的解析/">树状控件与列表控件交互以及XML的解析</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;http://s8.51cto.com/wyfs02/M00/5B/67/wKioL1UI1-LRY-VkAADQ3snhmcU770.jpg&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p>自查笔记。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<h1><span id="方法记录">方法记录</span></h1>
<h2><span id="msxml相关">MSXML相关</span></h2>
<h3><span id="创建对象">创建对象</span></h3>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MSXML2::IXMLDOMDocumentPtr pDoc;</span><br><span class="line"></span><br><span class="line">HRESULT hr = pDoc.CreateInstance(_uuidof(MSXML2::DOMDocument60));</span><br><span class="line"><span class="keyword">if</span>(!pDoc)</span><br><span class="line">&#123;</span><br><span class="line">	ASSERT(FALSE);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">_variant_t</span> varOut((<span class="keyword">bool</span>)TRUE);</span><br><span class="line">varOut = pDoc-&gt;load(xmlPath);</span><br><span class="line"><span class="keyword">if</span> ((<span class="keyword">bool</span>)varOut == FALSE)</span><br><span class="line">&#123;</span><br><span class="line">	::MessageBox(<span class="literal">NULL</span>, <span class="string">"Wrong!"</span>, <span class="string">"提示"</span>, MB_ICONERROR);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="获取根节点">获取根节点</span></h3>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MSXML2::IXMLDOMElementPtr pNode;</span><br><span class="line">pNode = pDoc-&gt;GetdocumentElement();</span><br></pre></td></tr></table></figure></p>
<h3><span id="获取属性法一">获取属性（法一）</span></h3>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">MSXML2::IXMLDOMNamedNodeMapPtr pAttrMap;</span><br><span class="line">MSXML2::IXMLDOMNodePtr pAttrItem;</span><br><span class="line">MSXML2::IXMLDOMNodeListPtr pNodeList = pNode-&gt;GetchildNodes();</span><br><span class="line"><span class="keyword">long</span> Len = pNodeList-&gt;Getlength();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Len; ++i)</span><br><span class="line">&#123;</span><br><span class="line">	MSXML2::IXMLDOMElementPtr pChildNode = (MSXML2::IXMLDOMElementPtr)pNodeList-&gt;Getitem(i);</span><br><span class="line">	pChildNode-&gt;get_attributes(&amp;pAttrMap);</span><br><span class="line">	<span class="keyword">long</span> count;</span><br><span class="line">	pAttrMap-&gt;get_length(&amp;count);</span><br><span class="line">	<span class="keyword">if</span> (count)</span><br><span class="line">	&#123;</span><br><span class="line">		pAttrMap-&gt;get_item(<span class="number">0</span>, &amp;pAttrItem);</span><br><span class="line">		<span class="keyword">_variant_t</span> variantItemName;</span><br><span class="line">		pAttrItem-&gt;get_nodeTypedValue(&amp;variantItemName);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="获取属性法二">获取属性（法二）</span></h3>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">MSXML2::IXMLDOMNodeListPtr pList = pRoot-&gt;GetchildNodes();</span><br><span class="line"><span class="keyword">int</span> iCount = pList-&gt;Getlength();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iCount; ++i)</span><br><span class="line">&#123;</span><br><span class="line">	MSXML2::IXMLDOMElementPtr pItem = (MSXML2::IXMLDOMElementPtr)pList-&gt;item[i];</span><br><span class="line">	MSXML2::IXMLDOMNamedNodeMapPtr pAttrMap = pItem-&gt;Getattributes();</span><br><span class="line">	MSXML2::IXMLDOMNodePtr pAttrItem;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> att = <span class="number">0</span>; att &lt; pAttrMap-&gt;length; ++att)</span><br><span class="line">	&#123;</span><br><span class="line">		pAttrItem = pAttrMap-&gt;Getitem(att);</span><br><span class="line">		strTemp = (LPCTSTR)pAttrItem-&gt;GetnodeName();</span><br><span class="line">		<span class="keyword">_variant_t</span> value;</span><br><span class="line">		value = pAttrItem-&gt;GetnodeValue();</span><br><span class="line">		<span class="keyword">if</span> (strTemp == <span class="string">"某属性名1"</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//需要进行的操作</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (strTemp == <span class="string">"某属性名2"</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//需要进行的操作</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="删除节点">删除节点</span></h3>
<p>连同子节点一起删 pChildNode-&gt;GetParentNode()-&gt;removeChild(pChildNode);</p>
<h2><span id="树控件相关">树控件相关</span></h2>
<h3><span id="插入">插入</span></h3>
<p>HTREEITEM ht = m_tree.InsertItem((_bstr_t)variantValue, 1, 1, ht, TVI_LAST);
依次是：插入的数据，树前图标点击前，树前图标点击后，父节点，插在最后。</p>
<h3><span id="存入数据">存入数据</span></h3>
<p>m_tree.SetItemData(ht,(DWORD_PTR)数据);</p>
<h3><span id="获得根节点">获得根节点</span></h3>
<p>HTREEITEM hRoot=m_tree.GetRootItem();</p>
<h3><span id="展开树">展开树</span></h3>
<p>m_tree.Expand(ht,TVE_EXPAND);</p>
<h3><span id="获取选中树">获取选中树</span></h3>
<p>HTREEITEM ChooseItem = m_tree.GetSelectedItem();
获取数据
数据类型animal <em>pStructure = (数据类型animal</em>)m_tree.GetitemData(ChooseItem);</p>
<h2><span id="列表控件相关">列表控件相关</span></h2>
<h3><span id="插入">插入</span></h3>
<p>m_list.InsertItem(i,(LPCTSTR)数据,i);</p>
<h3><span id="存入数据">存入数据</span></h3>
<p>m_list.SetItemData(i,(DWORD_PTR)数据);</p>
<h3><span id="删除全部项">删除全部项</span></h3>
<p>m_list.DeleteAllItems();</p>
<h3><span id="在列表最后插入">在列表最后插入</span></h3>
<p>int iRow = m_list.GetItemCount();
m_list.InsertItem(iRow, text, 0);
text 插入的文本 0表示imagelist中的第一个图片
imagelist是由一幅幅image拼起来的长图列表</p>
<h2><span id="其它c相关">其它C++相关</span></h2>
<h3><span id="messagebox">MessageBox</span></h3>
<p>MessageBox分为win API 和 MFC封装两种。
win API:
::MessageBox(1, 2, 3, 4);
1为父窗口句柄，常用NULL
2为显示的字符串
3为标题栏显示的字符串
4为图标icon  有四种：MB_ICONERROR,MB_ICONINFORMATION,MB_ICONWARNING,MB_ICONQUESTION</p>
<h3><span id="父对话框给子对话框传值">父对话框给子对话框传值</span></h3>
<p>如果子对话框是模态对话框，那么子对话框是无法在弹出后调用父对话框的控件变量的。只能在DoModal之前，通过一个子对话框的自定义成员变量传递过去。
eg.
CxxDlg dlg;
UpdateData(TRUE);
dlg.m_str=m_edit;
dlg.DoModal();</p>
<p>一种不良的方式：
父对话框 BookDlg  子对话框TitleDlg
在父对话框中 TitleDlg dlg(this);
在子对话框中 CBookDlg <em>parent = (CBookDlg</em>)GetParent();
然后就可以使用了：
CString text=pParent-&gt;m_sentence;
m_sentence是父对话框类的成员变量</p>
<p>父窗口引用子窗口变量
在父窗口中 xxxDlg dlg;
if(dlg.DoModal() == IDOK)
{
//操作
}</p>
<h3><span id="在子对话框显示图片">在子对话框显示图片</span></h3>
<p>给自对话框添加OnInitDlg()
添加OnPaint()
(记得加WM_ONPAINT消息)
在OnInitDlg中加载图片，在OnPanint()中重绘图片。（在初始化里重绘是不行的）</p>
<h3><span id="vector">vector</span></h3>
<p>添加头文件#include &lt;vector&gt;
vector容器，std::vector&lt;类型*&gt; name;  push_back添加元素。
遍历元素使用迭代器iterator，for循环
vector&lt;数据类型&gt;::iterator it;
for(it=数据.begin();it!=数据.end();it++)
{
	//操作
	Break;
}</p>
<h3><span id="map">map</span></h3>
<p>添加头文件#include &lt;map&gt;
std::map&lt;CString, std::vector&lt;信息&gt;&gt;
一个CString对应一个vector。查询时也是先遍历（迭代器）再比较，it-&gt;first指代返回关键字，it-&gt;second指代数据。</p>
<h3><span id="父子循环">父子循环</span></h3>
<p>父子循环遍历时避免使用相同的变量名。</p>
<h3><span id="几个函数">几个函数</span></h3>
<p>检查路径合法性 PathFileExists(path)，使用它需要加上头文件#include &quot;shlwapi.h&quot;
字符连接 CString str;
str.Format((&quot;%s%s\%s\&quot;),path,&quot;第三层&quot;,&quot;第四层&quot;));
复制文件CopyFile(原完整带后缀路径，复制后的带后缀完整目的路径,TRUE);  该函数有返回值
比较
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(strTemp.Compare(<span class="string">"相比较的字符串"</span>)==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="创建临时文件夹">创建临时文件夹</span></h3>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">TCHAR Temp[<span class="number">512</span>];</span><br><span class="line">GetTempPath(<span class="number">512</span>, Temp);</span><br><span class="line">CString strTempPath;</span><br><span class="line">strTempPath.Format(<span class="string">"%s\\Mydata"</span>, Temp);</span><br><span class="line"><span class="keyword">if</span> (!PathFileExists(strTempPath))</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (!CreateDirectory(strTempPath, <span class="literal">NULL</span>))</span><br><span class="line">	&#123;</span><br><span class="line">		ASSERT(FALSE);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="复制文件夹及子文件">复制文件夹及子文件</span></h3>
<p>写一个函数CopyDiretory(CString source, CString target)
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	CFileFind finder;</span><br><span class="line"><span class="keyword">bool</span> bWorking = finder.FindFile(source);</span><br><span class="line"><span class="keyword">while</span> (bWorking)</span><br><span class="line">&#123;</span><br><span class="line">	bWorking = finder.FindNextFile();</span><br><span class="line">	<span class="keyword">if</span> (finder.IsDirectory() &amp;&amp; !finder.IsDots())</span><br><span class="line">	&#123;</span><br><span class="line">		copyDiretory(finder.GetFilePath(), target + <span class="string">"\\"</span> + finder.GetFileName();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		Bool temp = CopyFile(finder.GetFilePath(), target + <span class="string">"\\"</span> + finder.GetFileName(), FALSE);</span><br><span class="line">		<span class="keyword">if</span> (temp == <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			MessageBox(<span class="string">"复制失败！"</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="删除文件目录及子文件夹">删除文件目录及子文件夹</span></h3>
<p>写一个DeleteDirectory函数
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">CFileFind finder;</span><br><span class="line">CString path;</span><br><span class="line">path.Format(<span class="string">"%s\\*.*"</span>, directorypath);</span><br><span class="line">BOOL bWorking = finder.FindFile(path);</span><br><span class="line"><span class="keyword">while</span> (bWorking)</span><br><span class="line">&#123;</span><br><span class="line">	bWorking = finder.FindNextFile();</span><br><span class="line">	<span class="keyword">if</span> (finder.IsDirectory() &amp;&amp; !finder.IsDots())</span><br><span class="line">	&#123;</span><br><span class="line">		DeleteDirectory(finder.GetFilePath());</span><br><span class="line">		RemoveDirectory(finder.GetFilePath();)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		DeleteFile(finder.GetFilePath());</span><br><span class="line">	&#125;</span><br><span class="line">	finder.Close();</span><br><span class="line">	RemoveDirectory(directoryPath);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="文件遍历">文件遍历</span></h3>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">CFileFind finder;</span><br><span class="line">CString strName;</span><br><span class="line">BOOL bWorking = finder.FindFile(path);</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;CString&gt;a;</span><br><span class="line"><span class="keyword">while</span> (bWorking)</span><br><span class="line">&#123;</span><br><span class="line">	bWorking = finder.FindNextFile();</span><br><span class="line">	strName = finder.GetFileName();</span><br><span class="line">	a.push_back(strName);<span class="comment">//获取全部文件名</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;CString&gt;::iterator it;</span><br><span class="line">	<span class="keyword">for</span> (it = a.begin(); it != a.end(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> ((*it) == strFileName)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//需要的处理代码</span></span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="截取字符串">截取字符串</span></h3>
<p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>* temp = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">260</span>];</span><br><span class="line">::GetCurrentDirectory(<span class="number">260</span>, temp);<span class="comment">//得到的是DWord型</span></span><br><span class="line">CString strTempDir = temp;</span><br><span class="line"><span class="keyword">char</span>* str = strTempDir.GetBuffer(strTempDir.GetLength() + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">char</span>* delim = <span class="string">"\\"</span>;</span><br><span class="line"><span class="keyword">char</span>* buf;</span><br><span class="line"><span class="keyword">char</span>* p1 = strtok_s(str, delim, &amp;buf);</span><br><span class="line"><span class="keyword">char</span>*p2 = strtok_s(<span class="literal">NULL</span>, delim, &amp;buf);</span><br><span class="line">CString strp1 = (<span class="keyword">_bstr_t</span>)p1;</span><br><span class="line">CString strp2 = (<span class="keyword">_bstr_t</span>)p2;</span><br></pre></td></tr></table></figure></p>
<p>循环截取
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>* str = strName.GetBuffer(strName.GetLength() + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">char</span>* delim = <span class="string">"\\"</span>;</span><br><span class="line"><span class="keyword">char</span>* buf;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; str[i]; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (str[i] == *delim)</span><br><span class="line">	&#123;</span><br><span class="line">		count++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">char</span>* p = strtok_s(str, delim, *buf);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; count; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		p = strtok_s(<span class="literal">NULL</span>, delim, &amp;buf);</span><br><span class="line">	&#125;</span><br><span class="line">	CString strp = (<span class="keyword">_bstr_t</span>)p;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="禁用">禁用</span></h3>
<p>GetDlgItem(IDC_Text)-&gt;EnableWindow(FALSE);</p>
<h3><span id="调用exe">调用exe</span></h3>
<p>法一：
UINT temp=WinExec(strPath,SW_SHOWNORMAL);
法二：
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">STARTUPINFO si;</span><br><span class="line"><span class="built_in">memset</span>(&amp;si, <span class="number">0</span>, <span class="keyword">sizeof</span>(STARTUPINFO));</span><br><span class="line">si.cb = <span class="keyword">sizeof</span>(STARTUPINFO);</span><br><span class="line">si.dwFlags = STARTF_USESHOWWINDOW;</span><br><span class="line">si.wShowWindow = SW_SHOW;</span><br><span class="line">PROCESS_INFORMATION pi;</span><br><span class="line">BOOL bDemoPro = CreateProcess(path, <span class="literal">NULL</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>, FALSE, <span class="number">0</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>, &amp;si, &amp;pi);</span><br><span class="line"><span class="keyword">if</span> (!bDemoPro)</span><br><span class="line">&#123;</span><br><span class="line">	ASSERT(FALSE);</span><br><span class="line">&#125;</span><br><span class="line">WaitForSingleObject(pi.hProcess, INFINITE);</span><br><span class="line">CloseHandle(pi.hThread);</span><br><span class="line">CloseHandle(pi.hProcess);</span><br></pre></td></tr></table></figure></p>
<h3><span id="窗口缩放">窗口缩放</span></h3>
<p>.h文件中：
protected:
afx_msg void OnSize(UINT nType,int cx, int cy);
POINT old;
CRect m_rect;</p>
<p>.cpp文件中：
ON_WM_SIZE()</p>
<p>在OnInitDialog()中：
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GetClientRect(&amp;m_rect);<span class="comment">//初始大小</span></span><br><span class="line">old.x = m_rect.right - m_rect.left;</span><br><span class="line">old.y = m_rect.bottom - m_rect.top;</span><br></pre></td></tr></table></figure></p>
<p>在OnSize函数中：
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	CDialog::OnSize(nTpye, cx, cy);</span><br><span class="line">	<span class="comment">//TODO</span></span><br><span class="line">	<span class="keyword">float</span> fsp[<span class="number">2</span>];</span><br><span class="line">	POINT Newp;</span><br><span class="line">	CRect rectNow;</span><br><span class="line">	GetClientRect(&amp;rectNow);</span><br><span class="line">	Newp.x = rectNow.right - rectNow.left;</span><br><span class="line">	Newp.y = rectNow.bottom - rectNow.top;</span><br><span class="line">	fsp[<span class="number">0</span>] = (<span class="keyword">float</span>)Newp.x / old.x;</span><br><span class="line">	fsp[<span class="number">1</span>] = (<span class="keyword">float</span>)Newp.y / old.y;</span><br><span class="line">	CRect Rect;</span><br><span class="line">	<span class="keyword">int</span> woc;</span><br><span class="line">	CPoint OldTLPoint, TLPoint;<span class="comment">//左上</span></span><br><span class="line">	CPoint OldBRPoint, BRPoint;<span class="comment">//右下</span></span><br><span class="line">	HWND hwndChild = ::GetWindow(m_hWnd, GW_CHILD);<span class="comment">//列出所有控件</span></span><br><span class="line">	<span class="keyword">while</span> (hwndChild)</span><br><span class="line">	&#123;</span><br><span class="line">		woc = ::GetDlgCtrlID(hwndChild);</span><br><span class="line">		GetDlgItem(woc)-&gt;GetWindowRect(Rect);</span><br><span class="line">		ScreenToClient(Rect);</span><br><span class="line">		OldTLPoint = Rect.TopLeft();</span><br><span class="line">		TLPoint.x = <span class="keyword">long</span>(OldTLPoint.x*fsp[<span class="number">0</span>]);</span><br><span class="line">		TLPoint.y = <span class="keyword">long</span>(OldTLPoint.y*fsp[<span class="number">1</span>]);</span><br><span class="line">		OldBRPoint = Rect.BottomRight();</span><br><span class="line">		BRPoint.x = <span class="keyword">long</span>(OldBRPoint.x*fsp[<span class="number">0</span>]);</span><br><span class="line">		BRPoint.y = <span class="keyword">long</span>(OldBRPoint.y*fsp[<span class="number">1</span>]);</span><br><span class="line">		Rect.SetRect(TLPoint, BRPoint);</span><br><span class="line">		GetDlgItem(woc)-&gt;MoveWindow(Rect, TRUE);</span><br><span class="line">		hwndChild = ::GetWindow(hwndChild, GW_HWNDNEXT);</span><br><span class="line">	&#125;</span><br><span class="line">	old = Newp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3><span id="更新数据">更新数据</span></h3>
<p>UpdateData(TRUE);//更新值到界面
UpdateData(FALSE);//更新界面到值</p>
<h2><span id="数据类型转换">数据类型转换</span></h2>
<ol>
<li>int转CString
iRow是int型，number是CString型。
CString number;
number.Format(&quot;%d&quot;, iRow);</li>
</ol>
<p>2._variant_t转int
_variant_t a;
int b;
b=_ttoi((LPCTSTR)(_bstr_t)a);</p>
<hr>
<h1><span id="msdn参考">MSDN参考</span></h1>
<h2><span id="msxml">MSXML</span></h2>
<p>MSXML API 历史记录 https://msdn.microsoft.com/zh-cn/library/ms762314(v=vs.85).aspx</p>
<p>MSXML SDK 概述 https://msdn.microsoft.com/zh-cn/library/ms760399(v=vs.85).aspx</p>
<h2><span id="treecontrol控件">TreeControl控件</span></h2>
<p>使用 CTreeCtrl https://msdn.microsoft.com/zh-cn/library/8ws6dh1y(v=vs.120).aspx</p>
<h2><span id="listcontrol控件">ListControl控件</span></h2>
<p>使用 CListCtrl https://msdn.microsoft.com/zh-cn/library/cc468276(v=vs.71).aspx
创建列表控件 (List Control) https://msdn.microsoft.com/zh-cn/library/cc451545(v=vs.71).aspx</p>
<hr>
<p>现有一个XML文档如下：
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;root&gt;</span><br><span class="line">	&lt;Node world = <span class="string">"生命"</span>&gt;</span><br><span class="line">		&lt;Node animal = “动物<span class="string">"&gt;</span></span><br><span class="line"><span class="string">			&lt;Node aniname = "</span>熊猫<span class="string">"&gt;</span></span><br><span class="line"><span class="string">			&lt;/Node&gt;</span></span><br><span class="line"><span class="string">			&lt;Node aniname = "</span>兔子<span class="string">"&gt;</span></span><br><span class="line"><span class="string">			&lt;/Node&gt;</span></span><br><span class="line"><span class="string">		&lt;/Node&gt;</span></span><br><span class="line"><span class="string">		&lt;Node plant = "</span>植物<span class="string">"&gt;</span></span><br><span class="line"><span class="string">			&lt;Node planame = "</span>仙人掌<span class="string">"&gt;</span></span><br><span class="line"><span class="string">			&lt;/Node&gt;</span></span><br><span class="line"><span class="string">			&lt;Node planame = "</span>玫瑰<span class="string">"&gt;</span></span><br><span class="line"><span class="string">			&lt;/Node&gt;</span></span><br><span class="line"><span class="string">		&lt;/Node&gt;</span></span><br><span class="line"><span class="string">	&lt;/Node&gt;</span></span><br><span class="line"><span class="string">&lt;/root&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>要求在树状控件上显示如下：
--root
----动物
----植物</p>
<p>在树状控件上点击“动物”，在列表控件上出现
1 熊猫
2 兔子</p>
<p>同理，点击“植物”，在列表控件上出现
1 仙人掌
2 玫瑰</p>
<h1><span id="思维碰撞">思维碰撞</span></h1>
<p><s>之前的思路：先SelectedSingleNode(&quot;/Node/Node&quot;)，定位到动物这一层。然后获得该结点的属性即aniname，插入树状控件。接着指向其兄弟结点，将兄弟结点（植物）的属性同样插入树状控件。如果新插入结点，可能需递归（但都是在动物同层面）。</s>
<s>因为并没有将“熊猫”“兔子”插入树状控件，因此无法使用m_tree.GetChildItem(ht)获取。所以我想通过“动物”植物“的aniname和planame来反过来查找对应xml里的结点pNode（这里存在问题how to find it?遍历xml找同样的名字？Item能和node存在对应关系么）。找到后，只需GetChildNode之类获取孩子结点，再插入到列表控件中（也就是和列表控件交互实际是列表控件在和xml直接交互，树控件只起到选择某个item，对应到xml中）。</s>
<s>简单说来：选择树结点-&gt;获得该xml对应结点-&gt;获得每一个孩子结点-&gt;获得孩子结点的文本和其他路径属性-&gt;通过列表插入</s></p>
<p><s>就算是为树状控件和列表控件设置一个类或者一个结构，先要把xml所需的信息全部放入。毕竟投射到树状控件的结点并非全部结点，最重要的是<strong>列表控件所需结点不在树状控件中</strong>。那么添加删除时，对应的类或结构也应相应操作，是否繁琐。但感觉之前用树控件用错了，只是获取了文本，数据并没传入。</s></p>
<p>又过了一天。思路变为：为不直接操作XML，应创建一个结构体，利用MSXML解析XML将信息放入结构体中，在后续树状控件和列表控件操作时都调用该结构体而非XML。</p>
<p>前面那么多废话，其实说白了就是要<strong>自己生成一棵树</strong>，数据来源是xml，通过MSXML获得每个结点信息，自己生成的树中只包含所需要的xml片段信息，之后树控件根据指针来获得选择结点的孩子结点。
xml解析的最关键之处，就是如何将xml文件内容解析成内存中的可用、易用的程序数据---DOM(Document Object Model)树。DOM其实就是多叉树，每个节点只需知道自己的第一个子节点（first child）和下一个兄弟节点（next sibling），即可实现元素数据的解析。</p>
<p>理一理六层结构：
map-&gt;分类节点-&gt;vector-&gt;n个小节点-&gt;结构体-&gt;xml</p>
<p>如果要求分类节点就一层，是完全OK的。但如果要求分类下面还需要小分类，这就很不ok了。换为
两个结构体：1）小节点结构体-&gt;xml
2)分类节点结构体-&gt;vector-&gt;1)</p>
<p>发现六层结构办不到时，仿佛多米诺骨牌立到最后几块，突然看到最开始的一段里有一块距离放远了……
但换成双结构体其实改动也没太多，又好像把那块出差错的给换了块适合长度的，整个链条还是能补完整的。
思维过山车  跌宕起伏</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ListControl/">ListControl</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MFC/">MFC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TreeControl/">TreeControl</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/XML/">XML</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-魅蓝Note6评测" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/03/魅蓝Note6评测/" class="article-date">
      <time datetime="2017-09-03T07:41:50.000Z" itemprop="datePublished">2017-09-03</time>
</a>

 
    <a href="/2017/09/03/魅蓝Note6评测/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2017/09/03/魅蓝Note6评测/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/魅蓝Note6评测/">魅蓝Note6评测</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://gss0.baidu.com/7LsWdDW5_xN3otqbppnN2DJv/space/pic/item/962bd40735fae6cd608220ab05b30f2443a70fc1.jpg&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p>一篇如同水贴的评测。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;</p>
<p>评测对象：9月1日上新的魅族新品魅蓝note6
骁龙625 3GB+32GB 4000mAh
价格：1299
定位：青年良品  （翻译：又穷又天真）</p>
<h1><span id="外观">外观</span></h1>
<p><a href="https://www.meizu.com/note6/spec/?click=mmz_product_note6_dh_cs" target="_blank" rel="noopener">官方参数</a></p>
<p>图片一手拍摄，全无PS。
包装：<img src="http://img.blog.csdn.net/20170903155236962?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="外包装"></p>
<p>拆封1：<img src="http://img.blog.csdn.net/20170903155555203?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="拆封1"></p>
<p>拆封2：<img src="http://img.blog.csdn.net/20170903155856055?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="拆封2"></p>
<p>正面：<img src="http://img.blog.csdn.net/20170903164310296?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="正面"></p>
<p>背面：<img src="http://img.blog.csdn.net/20170903164058460?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="背面">
（就是忍不住想打个码）
名称解释：
TD-LTE，即LTE-TDD，Time Division Long Term Evolution（分时长期演进），LTE是基于OFDMA技术、由3GPP组织制定的全球通用标准，包括FDD和TDD两种模式用于成对频谱和非成对频谱。
IMEI，International Mobile Equipment Identity，是国际移动设备身份码的缩写，国际移动装备辨识码，是由15位数字组成的&quot;电子串号&quot;，它与每台移动电话机一一对应，而且该码是全世界唯一的。双卡双待手机会有两个IMEI，IMEI和IMSI存在一一对应的关系。因为双卡双待手机两个卡槽都能插SIM卡，在GSM蜂窝通信网络中被看作是集成在一起的两个设备，所以会被分配有2个IMEI码。
MEID，移动设备识别码(Mobile Equipment Identifier)是CDMA手机的身份识别码，也是每台CDMA手机或通讯平板唯一的识别码。通过这个识别码，网络端可以对该手机进行跟踪和监管。
输入 *#06# IMEI即手机串号。</p>
<p>问题来了，IMEI和MEID都可看作手机的身份证，区别在哪？
答：IMEI是GSM网络制式专用的身份编码，MEID是CDMA网络制式专用的身份识别编码，IMEI是一组纯数字的，而MEID是以字母开头的十六进制编码。使用不同制式的手机就会显示不同的码。</p>
<p>当手机被盗的时候，如知道IEMI码，可以通过手机供应商进行手机锁定，即：获知被盗之后的手机号码，中止手机的通话功能，获知手机的方位。但……一般情况下，供应商不会对个人或单位提出的定位或锁定手机的请求进行受理。</p>
<p>SN码，Serial Number的缩写，有时也叫SerialNo，手机SN号一般指的是软件注册码信息，也就是产品序列号，产品序列是为了验证“产品的合法身份”而引入的一个概念，它是用来保障用户的正版权益，享受合法服务的；一套正版的产品只对应一组产品序列号。别称：机器码、认证码、注册申请码等。</p>
<p>使用Nano-SIM卡，真的麻烦……手残党还是不要自己剪卡了，得去营业厅更换。
SIM-&gt;microSIM-&gt;NanoSIM，为了优化内存和主板排布，更轻薄。
然后现实是……人们买了厂商费尽心思打造的更超薄的手机然后再去加个手机壳……so interesting</p>
<p>CMIIT ID，即无线电发射设备型号核准代码。</p>
<p>初始UI设计<img src="http://img.blog.csdn.net/20170903164644449?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="UI1"></p>
<p><img src="http://img.blog.csdn.net/20170903164802558?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="UI2"></p>
<p>可以看到，系统出厂安装的第三方软件：手机百度、京东、微博、今日头条、淘宝、秒拍。自带的软件例如音乐、视频、读书、便签、工具箱等应用还是做得很不错的，感觉魅族特制的音乐有点虾米风，UI做得还是很简洁的，挺耐看，就是评论不堪入目……另，工具箱里的镜子好评……</p>
<p>底部是经典的腰圆键，轻触返回上级，按压Home，长按压出语音助手。</p>
<p>存储：<img src="http://img.blog.csdn.net/20170903170610860?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="存储"></p>
<p>32G有29G总容量不错了，没有特别臃肿。不过可用才21G，自带软件还是挺占地。</p>
<p>P.S.可以截图的地方为什么要拍照？。。。突然地我问自己。不禁想起了这张图：
<img src="http://img.blog.csdn.net/20170903172233366?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="吐槽截图"></p>
<h1><span id="跑分">跑分</span></h1>
<h2><span id="鲁大师">鲁大师</span></h2>
<p>现实配置：
<img src="http://img.blog.csdn.net/20170903214636426?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="配置"></p>
<p>性能总分：
<img src="http://img.blog.csdn.net/20170903173851837?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="总分"></p>
<p>这个分数还是配得起这个价钱吧。
CPU想让625赶上820，还是不可能的。
<a href="http://www.mydrivers.com/zhuanti/tianti/01/" target="_blank" rel="noopener">手机CPU性能天梯图</a></p>
<p>体验总分：
<img src="http://img.blog.csdn.net/20170903183533646?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="体验"></p>
<p>VR检测：
<img src="http://img.blog.csdn.net/20170903183736693?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="VR"></p>
<h2><span id="安兔兔">安兔兔</span></h2>
<p>为了公平公正，自然不能只跑一个地方
<img src="http://img.blog.csdn.net/20170903183949127?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="总分"></p>
<p>配置：
<img src="http://img.blog.csdn.net/20170903185133658?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="配置"></p>
<p>手机设置里存储显示是29G，鲁大师和安兔兔都显示的是22G，有一丝诡异的感觉。。。相差的内存被空气吃掉了</p>
<p>再看一眼CPU
<img src="http://img.blog.csdn.net/20170903185609876?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVib2ppbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="CPU"></p>
<p>当然，还有官方拿出的“疾速双摄”……同时段小米也鼓吹“变焦双摄”……
主观来说不错，各种照相模式丰富，滤镜较多，贴纸都有了，不用安B612了……</p>
<p>所以为什么说这是一篇水贴的评测，因为我实在写不出“魅蓝Note6主摄引入只在旗舰机上出现的索尼IMX362/三星2L7模组，1200W+500W双彩后置镜头组合，F/1.9超大光圈。　除了双摄，算法方面，魅蓝耗费重金打造的虹软双摄技术，官方称可针对人像背景虚化和暗光多帧降噪功能进行优化，大幅提升虚化真实度。据悉，每台魅蓝Note6需支付1美元给虹软公司。但在实际体验过程中，虚化会抹掉一些前景细节，自然程度仍旧有待提升。Dual PD极速对焦技术，让Note6对焦速度快达0.03s，实际对比体验中，魅蓝对焦速度惊人，甚至超过iPhone 7。其他方面，在光亮条件下，Note6的色彩还原、高光曝光控制与白平衡都有着不错表现，更偏写实风格。但HDR合成反应速度较慢，且在自拍模式下，色彩饱和度不高。夜拍环境中，魅蓝表现噪点控制强、亮度高，但是亮度细节会有曝光过度的问题，暗部细节丰富。Note6的慢镜头功能提供给用户更有有趣的拍摄方式，但是该模式下，噪点明显偏多。”这都归结于我对摄影没有很多的研究。当然摄影听起来就很有艺术气息……</p>
<p>游戏表现上，我觉得把玩王者荣耀不卡当成一个标杆是不科学的，因为一个几百块的手机都能做到。不过比较个帧率还是可行的。</p>
<p>都学小米搞饥饿营销……为什么不出4G+64G版？？？说好的1699在哪里？说好的蓝色在哪里……听说黑色也没了</p>
<p>总评：作为千元机，CPU、ROM、RAM、电池容量、相机像素这几个我看重的硬指标基本令人满意。以及，我不适合写软文。</p>
<p>规定1500左右的价位，其实就性价比而言，不追求品牌，只追求性能的话，360的N5S可能最佳（前提是官方参数是真实不参假的），奈何360全家桶实在让人望而生畏……小米同等价位的性能也是比较高的，但考虑到使用者之前深受小米折磨，于是不再考虑。联想性价比也高，可惜好像放弃手机这一块了。若只考虑品牌，华为或荣耀最佳。兼顾品牌和性能，又需上市时间较近，只剩魅族可选了。</p>
<p>最后，手机停留在我手上时间太短(2h)，无法检测电池和通话等耗时操作。</p>
<p>另外，我对一加5神机充满好奇，稳居各大评测前3是一种怎样的体验？</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/通信工程/">通信工程</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/手机/">手机</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/评测/">评测</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-三维坐标旋转" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/08/31/三维坐标旋转/" class="article-date">
      <time datetime="2017-08-31T15:53:44.000Z" itemprop="datePublished">2017-08-31</time>
</a>

 
    <a href="/2017/08/31/三维坐标旋转/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2017/08/31/三维坐标旋转/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/31/三维坐标旋转/">三维坐标旋转</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&amp;quality=100&amp;size=b4000_4000&amp;sec=1504196242&amp;di=148a19814e3d8e2bc96751304edf53ba&amp;src=http://a4.att.hudong.com/13/71/01300542856671145949714084001_s.jpg&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;</p>
<p>由上一篇引发的续问。</p>
<p>&lt;/div&gt;</p>
<p>&lt;!--more--&gt;
其实上一篇的想法都是为了这个问题进行铺垫：
已知任意三维坐标系中一条线上两点坐标AB，及该线绕A点任意方向旋转后B'的坐标，求B点经过怎样的变换（如先绕x轴旋转多少度，再绕y轴转多少度，再绕z轴绕多少度）得到B'。</p>
<p>弄清楚这个问题前，首先需要声明一点：
<strong>三维空间中，旋转角不能单纯的认为是某点关于x、y、z轴的旋转角度的线性叠加。</strong></p>
<p>认清这一点后，就应老实放弃向每个平面做投影算旋转角的错误方法。</p>
<p>旋转说穿了是矩阵的相乘。</p>
<p>然后从特殊情况入手，再从特殊到一般。</p>
<p>特殊情况：
1.旋转轴是x轴
2.旋转轴是y轴
3.旋转轴是z轴</p>
<p>一般情况：
旋转轴是任意直线</p>
<p>推导过程网上很多资料，其中，绕x、y、z轴的公式见<a href="http://blog.miskcoo.com/2016/12/rotation-in-3d-space" target="_blank" rel="noopener">三维空间中的旋转</a> ，markdown写数学公式太麻烦了。</p>
<p>旋转轴是任意直线，参考<a href="http://blog.sina.cn/dpool/blog/s/blog_6541e59a0101kukr.html" target="_blank" rel="noopener">三维旋转矩阵的计算</a></p>
<p>回到开头问题，既然已知B和B’，和A三点组成一个面，求出它的法向量，结合BB'中垂线，可算出该点的旋转轴向量。将该向量平移到原点处，再使用欧拉角计算旋转向量，进而得到所需要的x、y、z轴旋转角度（这是有顺序的）。这种方法得到的角度如果旋转顺序不同，则得到的解不同。当然最后别忘了反平移回去。
四元数的形式看起来简单些，可惜四元数里的角度不是所希望的关于x、y、z轴的三个角度值。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/3D/">3D</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/线代/">线代</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-三维坐标系变换" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/08/29/三维坐标系变换/" class="article-date">
      <time datetime="2017-08-29T14:23:54.000Z" itemprop="datePublished">2017-08-29</time>
</a>

 
    <a href="/2017/08/29/三维坐标系变换/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2017/08/29/三维坐标系变换/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/29/三维坐标系变换/">三维坐标系变换</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>&lt;div align=&quot;left&quot;&gt;
&lt;img src=&quot;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1504032008394&amp;di=e99e963bf5137db65c21d19b5589cb26&amp;imgtype=0&amp;src=http%3A%2F%2Fpic.58pic.com%2F58pic%2F16%2F55%2F89%2F38258PICNZn_1024.jpg&quot; width=&quot;300&quot; height=&quot;180&quot; style=&quot;float:right;&quot;/&gt;
&lt;/div&gt;</p>
<p>关于三维坐标变换的一些思考。　
从两条相交直线说起。</p>
<p>&lt;!--more--&gt;
从最简单的情况入手，求空间两条相交直线AB、BC的夹角，AB和BC相交于B点，已知ABC三点三维坐标。
假设两条直线向量分别为a(x1,y1,z1),b(x2,y2,z2),根据公式cosα=a·b/(|a|*|b|)=(x1x2+y1y2+z1z2)/[√(x1^2+y1^2+z1^2)+√(x2^2+y2^2+z2^2)] 可直接求得。</p>
<p>情况变一变：
以此两条直线中的某一条为基准（为z'轴），求另一条直线关于基准线的x'、y'、z'轴（新的基准坐标系）夹角。</p>
<p>如果不用矩阵的做法，求解很复杂：
以AB为新的坐标系Z'轴为例，O为原坐标系原点。
B'(0,0,0)，可求AB点距离s，则A'(0,0,s)。这还是比较容易的，关键是求C'坐标。
首先要求z轴和AB之间的各种角度，想象从Z轴先延x轴平移绕x轴旋转，再延y轴平移绕y轴旋转，最后延z轴平移绕z轴旋转。同理，C点做同类运动，得到C’。
千辛万苦得到C'还没完，再将B’C’分别向x'o'y'、y'o'z'、z'o'x'面投影，求关于基准线的夹角。方可算出所求。</p>
<p>很明显，这种方法显然不适用在3D中。
这个问题其实等价于将世界坐标系转换为物体坐标系。,矩阵的作用就发挥广大。</p>
<p>令原坐标系为M=(i,j,k)T（转置），变换后N=(i',j',k')T，i=(1,0,0),j=(0,1,0),k=(0,0,1)
原坐标系中一点P为(x,y,z)，则P'=((x,y,z)-O')N^(-1)   N^(-1)指N的逆矩阵  (若N为正交矩阵，无需求逆矩阵，求转置矩阵即可。)</p>
<p>推导：∵P=O+(x,y,z)M=O'+(x',y',z')N
∴(x',y',z')=((x,y,z)M+(O-O'))N^(-1)
此时O’=(0，0，0),并带入M，则上式得证。</p>
<p>综上所述，讨论的情况实质就是进行了坐标系的转换。目的是求C'坐标，假设A(a1,b1,c1),B(a2,b2,c2),C(a3,b3,c3),那么根据公式C’=((a3,b3,c3)-(a2,b2,c2))N^(-1)，问题就转化为求N。记N=MK，K=M^(-1)N，也就是说，K是将i,j,k装换为i',k',j'的变换矩阵。
N^(-1)=(MK)^(-1)=K^(-1)M^(-1)
∴(x',y',z')=((x,y,z)M+(O-O'))K^(-1)M^(-1)
=((x,y,z)+(-O'))K^(-1)  K=N</p>
<p>怎么求K呢？</p>
<p>可以参考这篇文章<a href="http://blog.csdn.net/jc_laoshu/article/details/69657579" target="_blank" rel="noopener">图形学1-三维坐标系间的变换矩阵推导</a></p>
<p>看似也挺麻烦，其实推导占据了大量篇幅，真正使用时直接套就好了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/互联网/">互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/3D/">3D</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/线代/">线代</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2015-2018 胡博靖
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 19;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>


    

    
        <script id="dsq-count-scr" src="//hubojing.disqus.com/count.js" async></script>
        <script>
            if ($(".left-col").is(":visible")) {
                var $disqusCount = $(".disqus-comment-count");
                $disqusCount.bind("DOMNodeInserted", function(e) {
                    var num = $(this).text().replace(/[^0-9]/ig,"");
                    if (num > 0) {
                        $(this).siblings(".count-comment").text(num);
                    }
                    $(this).remove();
                })
            } else {
                $(".disqus-comment-count").remove();
            }
        </script>
     




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "(つェ⊂) 快回来~ " + originTitle;
                clearTimeout(titleTime);
            }
            else {
                document.title = "(*´∇｀*) 欢迎回来~ " + originTitle;
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>